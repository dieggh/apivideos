(this["webpackJsonpreact-material-dashboard"]=this["webpackJsonpreact-material-dashboard"]||[]).push([[0],{522:function(e,t,r){"use strict";r.r(t);var n=r(65),a=r.n(n),o=r(42);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=r(10),i=r.n(c),s=r(15),l=(r(396),r(1)),u=r(22),d=r(683),p=r(667),j=r(681),b=Object(j.a)((function(){return Object(p.a)({"@global":{"*":{boxSizing:"border-box",margin:0,padding:0},html:{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",height:"100%",width:"100%"},body:{backgroundColor:"#f4f6f8",height:"100%",width:"100%"},a:{textDecoration:"none"},"#root":{height:"100%",width:"100%"}}})})),O=function(){return b(),null},h=r(102);h.Chart.helpers.extend(h.Chart.elements.Rectangle.prototype,{draw:function(){var e,t,r,n,a,o,c,i,s=this._chart.ctx,l=this._view,u=l.borderWidth,d=this._chart.config.options.cornerRadius;if(d<0&&(d=0),"undefined"===typeof d&&(d=0),l.horizontal?(e=l.base,t=l.x,r=l.y-l.height/2,n=l.y+l.height/2,a=t>e?1:-1,o=1,c=l.borderSkipped||"left"):(e=l.x-l.width/2,t=l.x+l.width/2,r=l.y,a=1,o=(n=l.base)>r?1:-1,c=l.borderSkipped||"bottom"),u){var p=Math.min(Math.abs(e-t),Math.abs(r-n)),j=(u=u>p?p:u)/2,b=e+("left"!==c?j*a:0),O=t+("right"!==c?-j*a:0),h=r+("top"!==c?j*o:0),x=n+("bottom"!==c?-j*o:0);b!==O&&(r=h,n=x),h!==x&&(e=b,t=O)}s.beginPath(),s.fillStyle=l.backgroundColor,s.strokeStyle=l.borderColor,s.lineWidth=u;var f=[[e,n],[e,r],[t,r],[t,n]],m=["bottom","left","top","right"].indexOf(c,0);function v(e){return f[(m+e)%4]}-1===m&&(m=0);var g=v(0);s.moveTo(g[0],g[1]);for(var E=1;E<4;E+=1){g=v(E);var A=E+1;4===A&&(A=0);var C=f[2][0]-f[1][0],T=f[0][1]-f[1][1],S=f[1][0],y=f[1][1];if((i=d)>Math.abs(T)/2&&(i=Math.floor(Math.abs(T)/2)),i>Math.abs(C)/2&&(i=Math.floor(Math.abs(C)/2)),T<0){var w=S,P=S+C,R=y+T,I=y+T,k=S,D=S+C,_=y,L=y;s.moveTo(k+i,_),s.lineTo(D-i,L),s.quadraticCurveTo(D,L,D,L-i),s.lineTo(P,I+i),s.quadraticCurveTo(P,I,P-i,I),s.lineTo(w+i,R),s.quadraticCurveTo(w,R,w,R+i),s.lineTo(k,_-i),s.quadraticCurveTo(k,_,k+i,_)}else if(C<0){var N=S+C,B=S,M=y,F=y,H=S+C,U=S,q=y+T,G=y+T;s.moveTo(H+i,q),s.lineTo(U-i,G),s.quadraticCurveTo(U,G,U,G-i),s.lineTo(B,F+i),s.quadraticCurveTo(B,F,B-i,F),s.lineTo(N+i,M),s.quadraticCurveTo(N,M,N,M+i),s.lineTo(H,q-i),s.quadraticCurveTo(H,q,H+i,q)}else s.moveTo(S+i,y),s.lineTo(S+C-i,y),s.quadraticCurveTo(S+C,y,S+C,y+i),s.lineTo(S+C,y+T-i),s.quadraticCurveTo(S+C,y+T,S+C-i,y+T),s.lineTo(S+i,y+T),s.quadraticCurveTo(S,y+T,S,y+T-i),s.lineTo(S,y+i),s.quadraticCurveTo(S,y,S+i,y)}s.fill(),u&&s.stroke()}});var x=r(377),f=r(16),m=r(352),v=Object(x.a)({palette:{background:{default:"#F4F6F8",paper:f.a.common.white},primary:{main:f.a.indigo[500],light:f.a.indigo[700]},secondary:{main:f.a.lightBlue[500],light:f.a.lightBlue[50]},danger:{main:f.a.red[500],light:f.a.red[50]},text:{primary:"#172b4d",secondary:"#6b778c"}},shadows:["none","0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)","0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)"],typography:{h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}}},m.a),g=r(536),E=r(14),A=r(21),C=r(13),T=r(4),S=r(5),y=r(3),w=r(69),P=r(537),R=r(539),I=r(540),k=r(541),D=r(354),_=r.n(D),L=r(353),N=r.n(L),B=r(0),M=function(e){return Object(B.jsx)("img",Object(y.a)({alt:"Logo",src:"/static/logo.svg"},e))},F={AUTH_CHECKING:"[auth] Checking login state",AUTH_CHECKING_FINISH:"[auth] Finish checking login state",AUTH_START_LOGIN:"[auth] Start login",AUTH_LOGIN:"[auth] Login",AUTH_LOGOUT:"[auth] Login",AUTH_SET_CHECKING:"[auth] log in...",AUTH_SET_ERROR:"[auth] set error",AUTH_FETH_USER:"[auth] get info user",checkingFinish:function(){return{type:F.AUTH_CHECKING_FINISH}},fetchUser:function(e){return{type:F.AUTH_FETH_USER,payload:e}},setChecking:function(e){return{type:F.AUTH_SET_CHECKING,payload:e}},login:function(e){return{type:F.AUTH_LOGIN,payload:e}},setError:function(e){return{type:F.AUTH_SET_ERROR,payload:e}},logOut:function(){return{type:F.AUTH_LOGOUT}}},H=F,U=(H.checkingFinish,H.fetchUser),q=H.login,G=H.setChecking,W=H.setError,z=H.logOut,V=function(e,t,r){return function(){var n=Object(s.a)(i.a.mark((function n(a){var o,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(G(!0)),n.next=4,r("auth/signin",{email:e,password:t},"POST");case 4:o=n.sent,c=o.data,localStorage.setItem("authorization_aktkey",c.token),localStorage.setItem("refreshToken_aktkey",c.refreshToken),a(q(c.user)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),n.t0.response?a(W(n.t0.response.data.message)):a(W("Error del Servidor"));case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()},K=function(e){return function(){var t=Object(s.a)(i.a.mark((function t(r){var n,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(G(!0)),t.next=4,e("auth/check");case 4:n=t.sent,a=n.data,localStorage.setItem("authorization_aktkey",a.token),localStorage.setItem("refreshToken_aktkey",a.refreshToken),r(q(a.user)),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),localStorage.removeItem("authorization_aktkey"),localStorage.removeItem("refreshToken_aktkey"),r(z());case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},$=function(){return function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{localStorage.removeItem("authorization_aktkey"),localStorage.removeItem("refreshToken_aktkey"),t(z(data.user))}catch(r){t(z())}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},X=["onMobileNavOpen"],J=function(e){var t=e.onMobileNavOpen,r=Object(w.a)(e,X),n=Object(E.b)();return Object(B.jsx)(P.a,Object(y.a)(Object(y.a)({elevation:0},r),{},{children:Object(B.jsxs)(R.a,{children:[Object(B.jsx)(o.b,{to:"/",children:Object(B.jsx)(M,{})}),Object(B.jsx)(I.a,{sx:{flexGrow:1}}),Object(B.jsx)(I.a,{display:{xs:"none",lg:"block"},children:Object(B.jsx)(k.a,{onClick:function(){n($())},color:"inherit",children:Object(B.jsx)(N.a,{})})}),Object(B.jsx)(I.a,{display:{lg:"none"},children:Object(B.jsx)(k.a,{color:"inherit",onClick:t,children:Object(B.jsx)(_.a,{})})})]})}))},Y=r(530),Q=r(544),Z=r(545),ee=r(546),te=r(547),re=r(672),ne=r(673),ae=r(674),oe=r(675),ce=r(676),ie=r(677),se=r(177),le=r(543),ue=["href","icon","title"],de=function(e){var t=e.href,r=e.icon,n=e.title,a=Object(w.a)(e,ue),c=Object(u.g)(),i=!!t&&!!Object(u.d)({path:t,end:!1},c.pathname);return Object(B.jsx)(se.b,Object(y.a)(Object(y.a)({disableGutters:!0,sx:{display:"flex",py:0}},a),{},{children:Object(B.jsxs)(le.a,{component:o.c,sx:Object(y.a)(Object(y.a)({color:"text.secondary",fontWeight:"medium",justifyContent:"flex-start",letterSpacing:0,py:1.25,textTransform:"none",width:"100%"},i&&{color:"primary.main"}),{},{"& svg":{mr:1}}),to:t,children:[r&&Object(B.jsx)(r,{size:"20"}),Object(B.jsx)("span",{children:n})]})}))},pe=[{href:"/app/dashboard",icon:re.a,title:"Dashboard"},{href:"/app/administradores",icon:ne.a,title:"Administradores"},{href:"/app/empleados",icon:ae.a,title:"Empleados"},{href:"/app/categorias",icon:oe.a,title:"Categor\xedas"},{href:"/app/capitulos",icon:ce.a,title:"Cap\xedtulos"},{href:"/app/departamentos",icon:ie.a,title:"Departamentos"},{href:"/app/perfil",icon:ae.a,title:"Perfil"}],je=function(e){var t=e.onMobileClose,r=e.openMobile,n=Object(u.g)(),a=Object(E.c)((function(e){return e.auth})).user;Object(l.useEffect)((function(){r&&t&&t()}),[n.pathname]);var c=Object(B.jsxs)(I.a,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[Object(B.jsxs)(I.a,{sx:{alignItems:"center",display:"flex",flexDirection:"column",p:2},children:[Object(B.jsx)(Y.a,{component:o.b,src:"/static/images/avatars/avatar.png",sx:{cursor:"pointer",width:64,height:64},to:"/app/perfil"}),Object(B.jsx)(Q.a,{color:"textPrimary",variant:"h5",children:a.email}),Object(B.jsx)(Q.a,{color:"textSecondary",variant:"body2",children:a.tipo})]}),Object(B.jsx)(Z.a,{}),Object(B.jsx)(I.a,{sx:{p:2},children:Object(B.jsx)(ee.a,{children:pe.map((function(e){return(0===a.nivelAcceso||"/app/administradores"!==e.href&&1===a.nivelAcceso)&&Object(B.jsx)(de,{href:e.href,title:e.title,icon:e.icon},e.title)}))})})]});return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(I.a,{display:{lg:"none"},children:Object(B.jsx)(te.a,{anchor:"left",onClose:t,open:r,variant:"temporary",PaperProps:{sx:{width:256}},children:c})}),Object(B.jsx)(I.a,{display:{xs:"none",lg:"block"},children:Object(B.jsx)(te.a,{anchor:"left",open:!0,variant:"persistent",PaperProps:{sx:{width:256,top:64,height:"calc(100% - 64px)"}},children:c})})]})};je.defaultProps={onMobileClose:function(){},openMobile:!1};var be=je,Oe=Object(S.a)("div")((function(e){return{backgroundColor:e.theme.palette.background.default,display:"flex",height:"100%",overflow:"hidden",width:"100%"}})),he=Object(S.a)("div")((function(e){var t=e.theme;return Object(T.a)({display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},t.breakpoints.up("lg"),{paddingLeft:256})})),xe=Object(S.a)("div")({display:"flex",flex:"1 1 auto",overflow:"hidden"}),fe=Object(S.a)("div")({flex:"1 1 auto",height:"100%",overflow:"auto"}),me=function(){var e=Object(l.useState)(!1),t=Object(C.a)(e,2),r=t[0],n=t[1];return Object(B.jsxs)(Oe,{children:[Object(B.jsx)(J,{onMobileNavOpen:function(){return n(!0)}}),Object(B.jsx)(be,{onMobileClose:function(){return n(!1)},openMobile:r}),Object(B.jsx)(he,{children:Object(B.jsx)(xe,{children:Object(B.jsx)(fe,{children:Object(B.jsx)(u.b,{})})})})]})},ve=function(e){return Object(B.jsx)(P.a,Object(y.a)(Object(y.a)({elevation:0},e),{},{children:Object(B.jsx)(R.a,{sx:{height:64},children:Object(B.jsx)(o.b,{to:"/",children:Object(B.jsx)(M,{})})})}))},ge=Object(S.a)("div")((function(e){return{backgroundColor:e.theme.palette.background.paper,display:"flex",height:"100%",overflow:"hidden",width:"100%"}})),Ee=Object(S.a)("div")({display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64}),Ae=Object(S.a)("div")({display:"flex",flex:"1 1 auto",overflow:"hidden"}),Ce=Object(S.a)("div")({flex:"1 1 auto",height:"100%",overflow:"auto"}),Te=function(){return Object(B.jsxs)(ge,{children:[Object(B.jsx)(ve,{}),Object(B.jsx)(Ee,{children:Object(B.jsx)(Ae,{children:Object(B.jsx)(Ce,{children:Object(B.jsx)(u.b,{})})})})]})},Se=r(34),ye=r(559),we=r(533),Pe=r(548),Re=r(549),Ie=function(e){var t=Object(E.c)((function(e){return e.auth})).user;return Object(B.jsx)(Pe.a,Object(y.a)(Object(y.a)({},e),{},{children:Object(B.jsx)(Re.a,{children:Object(B.jsxs)(I.a,{sx:{alignItems:"center",display:"flex",flexDirection:"column"},children:[Object(B.jsx)(Y.a,{src:"/static/images/avatars/avatar.png",sx:{height:100,width:100}}),Object(B.jsx)(Q.a,{color:"textPrimary",gutterBottom:!0,variant:"h3",style:{marginTop:"10px"},children:t.email})]})})}))},ke=r(558),De=r(19),_e=r(45),Le=r(52),Ne=r.n(Le),Be=r(360),Me=r.n(Be),Fe=Me.a.create({baseURL:"".concat("https://api-videos.axiomahosting.com","/api/")});Fe.interceptors.request.use((function(e){if(e.url.includes("refreshToken")){var t=localStorage.getItem("refreshToken_aktkey")||"";e.headers["access-token"]="Bearer ".concat(t)}if(!e.headers.Authorization){var r=localStorage.getItem("authorization_aktkey")||"";r&&(e.headers.Authorization="Bearer ".concat(r))}return e}),(function(e){return Promise.reject(e)})),Fe.interceptors.response.use((function(e){return e}),function(){var e=Object(s.a)(i.a.mark((function e(t){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(401!==t.response.status){e.next=16;break}return e.prev=1,e.next=4,Fe.post("auth/refreshToken");case 4:r=e.sent,n=r.data,localStorage.setItem("authorization_aktkey",n.token),localStorage.setItem("refreshToken_aktkey",n.refreshToken),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",null);case 13:t.response.data.tryAgain=!0,e.next=17;break;case 16:t.response.data.tryAgain=!1;case 17:return e.abrupt("return",Promise.reject(t));case 18:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}());var He=Fe;function Ue(){var e=Object(l.useState)(!1),t=Object(C.a)(e,2),r=t[0],n=t[1],a=Object(E.b)();Object(l.useEffect)((function(){r&&a($())}),[r]);var o=function(){var e=Object(s.a)(i.a.mark((function e(t,r){var a,c,s,l,u,d,p,j=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=j.length>2&&void 0!==j[2]?j[2]:"GET",e.prev=1,"GET"!==a){e.next=14;break}return e.prev=3,e.next=6,He.get(t);case 6:return null===(c=e.sent)&&n(!0),e.abrupt("return",c);case 11:throw e.prev=11,e.t0=e.catch(3),e.t0;case 14:e.t1=a,e.next="POST"===e.t1?17:"PUT"===e.t1?28:"DELETE"===e.t1?39:"PATCH"===e.t1?50:61;break;case 17:return e.prev=17,e.next=20,He.post(t,Object(y.a)({},r));case 20:return null===(s=e.sent)&&n(!0),e.abrupt("return",s);case 25:throw e.prev=25,e.t2=e.catch(17),e.t2;case 28:return e.prev=28,e.next=31,He.put(t,Object(y.a)({},r));case 31:return null===(l=e.sent)&&n(!0),e.abrupt("return",l);case 36:throw e.prev=36,e.t3=e.catch(28),e.t3;case 39:return e.prev=39,e.next=42,He.delete(t);case 42:return null===(u=e.sent)&&n(!0),e.abrupt("return",u);case 47:throw e.prev=47,e.t4=e.catch(39),e.t4;case 50:return e.prev=50,e.next=53,He.patch(t);case 53:return null===(d=e.sent)&&n(!0),e.abrupt("return",d);case 58:throw e.prev=58,e.t5=e.catch(50),e.t5;case 61:throw new Error("Method unknow");case 62:e.next=76;break;case 64:if(e.prev=64,e.t6=e.catch(1),"Method unknow"!==e.t6.message){e.next=68;break}throw e.t6;case 68:if(!e.t6.response.data.tryAgain){e.next=75;break}return e.next=71,o(t,r,a);case 71:return p=e.sent,e.abrupt("return",p);case 75:throw e.t6;case 76:case"end":return e.stop()}}),e,null,[[1,64],[3,11],[17,25],[28,36],[39,47],[50,58]])})));return function(t,r){return e.apply(this,arguments)}}();return{doRequest:o}}var qe=r(550),Ge=["error","fullWidth","helperText","label","margin","handleBlur","onChange","value","name","type"];function We(e){var t=e.error,r=e.fullWidth,n=void 0===r||r,a=e.helperText,o=e.label,c=e.margin,i=void 0===c?"normal":c,s=e.handleBlur,l=void 0===s?null:s,u=e.onChange,d=e.value,p=e.name,j=e.type,b=void 0===j?"text":j,O=Object(w.a)(e,Ge);return Object(B.jsx)(qe.a,Object(y.a)(Object(y.a)({error:t,fullWidth:n},a&&{helperText:a}),{},{label:o,margin:i,onBlur:l,onChange:u,type:b,value:d,variant:"outlined",name:p},O))}var ze=["color","children","onClick","size","disabled"];function Ve(e){var t=e.color,r=e.children,n=e.onClick,a=e.size,o=void 0===a?"medium":a,c=e.disabled,i=void 0!==c&&c,s=Object(w.a)(e,ze);return Object(B.jsx)(le.a,Object(y.a)(Object(y.a)(Object(y.a)({color:t},n&&{onClick:n}),{},{disabled:i,size:o},s),{},{children:r}))}var Ke={UI_SET_ALERT:"[ui] set alert",UI_SET_CONFIRM_DIALOG:"[ui] set confirm dialog",setAlert:function(e){return{type:Ke.UI_SET_ALERT,payload:e}},setConfirmDialog:function(e){return{type:Ke.UI_SET_CONFIRM_DIALOG,payload:e}}},$e=Ke,Xe=$e.setAlert,Je=$e.setConfirmDialog,Ye=function(e){return function(){var t=Object(s.a)(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r(Xe(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Qe={ADMINS_FETCH:"[admins]fetch all admins",ADMINS_UPDATE:"[admins] update admin",ADMINS_CREATE:"[admins] create admin",ADMINS_SET_ERROR:"[admins] error",ADMINS_SET_CHECKING:"[admins] fetching...",ADMINS_SET_FILTER:"[admins] set value to filter admins",ADMINS_DISABLE:"[admins] disable admin",ADMINS_ENABLE:"[admins] enable admin",fetchAll:function(e){return{type:Qe.ADMINS_FETCH,payload:e}},create:function(e){return{type:Qe.ADMINS_CREATE,payload:e}},update:function(e){return{type:Qe.ADMINS_UPDATE,payload:e}},setChecking:function(e){return{type:Qe.ADMINS_SET_CHECKING,payload:e}},setError:function(e){return{type:Qe.ADMINS_SET_ERROR,payload:e}},setFilter:function(e){return{type:Qe.ADMINS_SET_FILTER,payload:e}},disable:function(e){return{type:Qe.ADMINS_DISABLE,payload:e}},enable:function(e){return{type:Qe.ADMINS_ENABLE,payload:e}}},Ze=Qe,et=Ze.fetchAll,tt=Ze.create,rt=Ze.update,nt=Ze.setError,at=Ze.setChecking,ot=Ze.setFilter,ct=Ze.disable,it=Ze.enable,st=function(e){return function(){var t=Object(s.a)(i.a.mark((function t(r){var n,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(at(!0)),t.next=4,e("admin");case 4:n=t.sent,a=n.data,console.log(a),r(et(a.administradores)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),t.t0.response?r(nt(t.t0.response.data.message)):r(nt("Error del Servidor"));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},lt=function(e,t){return function(){var r=Object(s.a)(i.a.mark((function r(n){var a,o;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(nt("")),r.next=4,t("admin/signup",Object(y.a)({},e),"POST");case 4:a=r.sent,o=a.data,n(tt(o.admin)),r.next=12;break;case 9:throw r.prev=9,r.t0=r.catch(0),r.t0;case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},ut=function(e,t,r){return function(){var n=Object(s.a)(i.a.mark((function n(a){var o,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(nt("")),n.next=4,r("admin/".concat(e),Object(y.a)({},t),"PUT");case 4:o=n.sent,c=o.data,a(rt(c.admin)),n.next=12;break;case 9:throw n.prev=9,n.t0=n.catch(0),n.t0;case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},dt=function(e,t){return function(){var r=Object(s.a)(i.a.mark((function r(n){return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(nt("")),r.next=4,t("admin/".concat(e),{},"DELETE");case 4:n(ct(e)),n(Je({open:!1,inProgress:!1})),n(Ye({type:"success",isOpen:!0,title:"\xc9xito",message:"Administrador Deshabilitado Correctamente"})),r.next=12;break;case 9:throw r.prev=9,r.t0=r.catch(0),r.t0;case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},pt=function(e,t){return function(){var r=Object(s.a)(i.a.mark((function r(n){return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(nt("")),r.next=4,t("admin/".concat(e),{},"PATCH");case 4:n(it(e)),n(Je({open:!1,inProgress:!1})),n(Ye({type:"success",isOpen:!0,title:"\xc9xito",message:"Administrador Habilitado Correctamente"})),r.next=12;break;case 9:throw r.prev=9,r.t0=r.catch(0),r.t0;case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},jt=/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{4}\)?)?$/,bt=function(e){var t=Object(E.b)(),r=Object(E.c)((function(e){return e.auth})),n=r.info,a=r.error,o=Object(l.useState)(null),c=Object(C.a)(o,2),u=c[0],d=c[1],p=function(){var e=Object(s.a)(i.a.mark((function e(r){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(ut(r.id,r,j));case 3:message="Perfil Actualizado Correctamente",t(startSetAlert({isOpen:!0,title:"\xc9xito",message:message})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),500!==(null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n?void 0:n.status)&&(a=handleRequestError(e.t0,setFieldError),t(W(a))),t(startSetAlert({type:"error",isOpen:!0,title:"Error",message:"Error del Servidor, Intentelo de Nuevo"}));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),j=Ue().doRequest;return Object(l.useEffect)((function(){t(function(e){return function(){var t=Object(s.a)(i.a.mark((function t(r){var n,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e("adminPerfil");case 3:n=t.sent,a=n.data,r(U(a.administrador)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),t.t0.response?r(W(t.t0.response.data.message)):r(W("Error del Servidor"));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(j)),t(W(""))}),[]),Object(l.useEffect)((function(){n&&d({persona:Object(y.a)({},n.persona),usuario:Object(y.a)(Object(y.a)({},n.usuario),{},{password:"",confirmPassword:""}),id:n.id})}),[n]),Object(l.useEffect)((function(){console.log(u)}),[u]),u?Object(B.jsxs)(Pe.a,{children:[Object(B.jsx)(ke.a,{subheader:"Puedes modificar tus credenciales de acceso",title:"Perfil"}),Object(B.jsx)(Z.a,{}),Object(B.jsx)(Re.a,{children:Object(B.jsx)(_e.a,{initialValues:u,validationSchema:De.b().shape({persona:De.b().shape({telefono:De.d().matches(jt,"N\xfamero de Tel\xe9fono no V\xe1lido").min(10,"Longitud m\xednima de 10 n\xfameros").required("Tel\xe9fono es Requerido")}),usuario:De.b().shape({email:De.d().email("Debe ser un Correo Electr\xf3nico V\xe1lido").max(255),password:De.d().length(6,"Longitud m\xednima: 6 car\xe1cteres"),confirmPassword:De.d().length(6,"Logitud m\xednima: 6 car\xe1teres").oneOf([De.c("password"),null],"Las Contrase\xf1as no Coinciden")})}),validateOnChange:!0,onSubmit:function(e,t){var r=t.setFieldError;return p(e,r)},children:function(e){var t,r,n,o,c,i,s,l,u,d,p,j,b,O,h,x,f,m,v,g,E,A,C,T,S,y,w,P,R,k,D,_,L,N,M,F=e.errors,H=e.handleBlur,U=e.handleChange,q=e.handleSubmit,G=e.isSubmitting,W=e.touched,z=e.values;return Object(B.jsxs)("form",{onSubmit:q,children:[Object(B.jsx)(I.a,{sx:{mb:3},children:Object(B.jsx)(Q.a,{color:"textPrimary",variant:"h2",children:"Actualiza tus Datos"})}),Object(B.jsxs)(we.a,{container:!0,spacing:1,children:[Object(B.jsxs)(we.a,{item:!0,xs:6,children:[Object(B.jsx)(We,{error:Boolean((null===(t=W.persona)||void 0===t?void 0:t.nombre)&&(null===(r=F.persona)||void 0===r?void 0:r.nombre)),helperText:(null===(n=W.persona)||void 0===n?void 0:n.nombre)&&(null===(o=F.persona)||void 0===o?void 0:o.nombre),label:"Nombre",disabled:!0,onBlur:H,onChange:U,name:"nombre",value:null===(c=z.persona)||void 0===c?void 0:c.nombre}),Object(B.jsx)(We,{error:Boolean((null===(i=W.persona)||void 0===i?void 0:i.primerAp)&&(null===(s=F.persona)||void 0===s?void 0:s.primerAp)),helperText:(null===(l=W.persona)||void 0===l?void 0:l.primerAp)&&(null===(u=F.persona)||void 0===u?void 0:u.primerAp),label:"Primer Apellido",disabled:!0,onBlur:H,onChange:U,name:"primerAp",value:null===(d=z.persona)||void 0===d?void 0:d.primerAp}),Object(B.jsx)(We,{error:Boolean((null===(p=W.persona)||void 0===p?void 0:p.segundoAp)&&(null===(j=F.persona)||void 0===j?void 0:j.segundoAp)),helperText:(null===(b=W.persona)||void 0===b?void 0:b.segundoAp)&&(null===(O=F.persona)||void 0===O?void 0:O.segundoAp),label:"Segundo Apellido",disabled:!0,onBlur:H,onChange:U,name:"segundoAp",value:null===(h=z.persona)||void 0===h?void 0:h.segundoAp}),Object(B.jsx)(We,{error:Boolean((null===(x=W.persona)||void 0===x?void 0:x.telefono)&&(null===(f=F.persona)||void 0===f?void 0:f.telefono)),helperText:(null===(m=W.persona)||void 0===m?void 0:m.telefono)&&(null===(v=F.persona)||void 0===v?void 0:v.telefono),label:"Tel\xe9fono",onBlur:H,onChange:U,name:"persona.telefono",value:null===(g=z.persona)||void 0===g?void 0:g.telefono})]}),Object(B.jsxs)(we.a,{item:!0,xs:6,children:[Object(B.jsx)(We,{error:Boolean((null===(E=W.usuario)||void 0===E?void 0:E.email)&&(null===(A=F.usuario)||void 0===A?void 0:A.email)),helperText:(null===(C=W.usuario)||void 0===C?void 0:C.email)&&(null===(T=F.usuario)||void 0===T?void 0:T.email),label:"Correo Electr\xf3nico",onBlur:H,onChange:U,name:"usuario.email",value:null===(S=z.usuario)||void 0===S?void 0:S.email}),Object(B.jsx)(We,{error:Boolean((null===(y=W.usuario)||void 0===y?void 0:y.password)&&(null===(w=F.usuario)||void 0===w?void 0:w.password)),helperText:(null===(P=W.usuario)||void 0===P?void 0:P.password)&&(null===(R=F.usuario)||void 0===R?void 0:R.password),label:"Contrase\xf1a",onBlur:H,onChange:U,name:"usuario.password",value:null===(k=z.usuario)||void 0===k?void 0:k.password,type:"password"}),Object(B.jsx)(We,{error:Boolean((null===(D=W.usuario)||void 0===D?void 0:D.confirmPassword)&&(null===(_=F.usuario)||void 0===_?void 0:_.confirmPassword)),helperText:(null===(L=W.usuario)||void 0===L?void 0:L.confirmPassword)&&(null===(N=F.usuario)||void 0===N?void 0:N.confirmPassword),label:"Confirmar Contrase\xf1a",onBlur:H,onChange:U,name:"usuario.confirmPassword",value:null===(M=z.usuario)||void 0===M?void 0:M.confirmPassword,type:"password"})]})]}),Object(B.jsxs)(I.a,{sx:{py:2},children:[Object(B.jsx)(Ve,{color:"primary",type:"submit",startIcon:Object(B.jsx)(Ne.a,{}),disabled:G,variant:"contained",children:"Actualizar Perfil"}),Object(B.jsx)(Q.a,{color:"error",align:"center",style:{marginTop:"10px"},children:a})]})]})}})}),Object(B.jsx)(Z.a,{})]}):Object(B.jsx)("div",{children:"Cargando..."})},Ot=function(){return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Se.a,{children:Object(B.jsx)("title",{children:"Mi perfil"})}),Object(B.jsx)(I.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(B.jsx)(ye.a,{maxWidth:"lg",children:Object(B.jsxs)(we.a,{container:!0,spacing:3,children:[Object(B.jsx)(we.a,{item:!0,lg:4,md:6,xs:12,children:Object(B.jsx)(Ie,{})}),Object(B.jsx)(we.a,{item:!0,lg:8,md:6,xs:12,children:Object(B.jsx)(bt,{})})]})})})]})},ht=r(44),xt=r.n(ht),ft=r(565),mt=r(566),vt=r(567),gt=r(568),Et=r(569),At=r(526),Ct=r(29),Tt=r.n(Ct),St=r(53),yt=r.n(St),wt=r(50),Pt=r.n(wt);function Rt(){var e=Object(l.useState)(10),t=Object(C.a)(e,2),r=t[0],n=t[1],a=Object(l.useState)(0),o=Object(C.a)(a,2),c=o[0],i=o[1];return{handleLimitChange:function(e){n(e.target.value)},handlePageChange:function(e,t){i(t)},limit:r,page:c}}var It=r(560),kt=r(561),Dt=r(562),_t=r(361),Lt=r.n(_t),Nt=Object(j.a)((function(){return{dialogWrapper:{padding:v.spacing(2),position:"absolute",top:v.spacing(5)}}})),Bt=function(e){var t=e.title,r=e.children,n=e.open,a=e.setOpen,o=e.fullWidth,c=void 0!==o&&o,i=e.disabled,s=void 0!==i&&i,l=Nt();return Object(B.jsxs)(It.a,{open:n,maxWidth:"md",classes:c?{}:{paper:l.dialogWrapper},fullWidth:c,"aria-labelledby":"form-dialog-title",children:[Object(B.jsx)(kt.a,{id:"form-dialog-title",children:Object(B.jsxs)("div",{style:{display:"flex"},children:[Object(B.jsx)(Q.a,{variant:"h4",component:"div",style:{flexGrow:1},children:t}),Object(B.jsx)(Ve,{disabled:s,color:"danger",onClick:function(){return a(!1)},children:Object(B.jsx)(Lt.a,{})})]})}),Object(B.jsx)(Dt.a,{dividers:!0,children:r})]})},Mt=r(59).formatError,Ft=function(e,t){return(null===e||void 0===e?void 0:e.response)?Mt(e.response.data,t):"Error!"},Ht=r(563),Ut=r(553),qt=r(554),Gt=r(529),Wt=r(557);function zt(e){var t=e.name,r=e.label,n=e.value,a=e.error,o=void 0===a?null:a,c=e.onChange,i=e.options,s=e.onBlur,l=e.helperText,u=i.map((function(e){return Object(B.jsx)(Ht.a,{value:e.id,children:e.text},e.id)}));return Object(B.jsxs)(Ut.a,Object(y.a)(Object(y.a)({variant:"outlined",style:{marginTop:"16px"}},o&&{error:!0}),{},{children:[Object(B.jsx)(qt.a,{id:"demo-simple-select-outlined-label",children:r}),Object(B.jsxs)(Gt.a,{labelId:"demo-simple-select-outlined-label",value:n,onChange:c,onBlur:s,label:r,name:t,children:[Object(B.jsx)(Ht.a,{value:-1,children:" -- Seleccione una opci\xf3n -- "},-1),u]}),o&&Object(B.jsx)(Wt.a,{children:l})]}))}var Vt={persona:{nombre:"",primerAp:"",segundoAp:"",telefono:""},usuario:{password:"",email:"",confirmPassword:"",nivelAcceso:1},noInterno:"",id:0},Kt=[{id:0,text:"Super Administrador"},{id:1,text:"Titular / Administrador"}],$t=/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{4}\)?)?$/,Xt=function(e){var t=e.title,r=e.edit,n=void 0===r?null:r,a=Object(E.b)(),o=Object(E.c)((function(e){return e.administradores})).error,c=Ue().doRequest,u=function(){var e=Object(s.a)(i.a.mark((function e(t,r){var o,s,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o="",!n){e.next=8;break}return e.next=5,a(ut(n.id,t,c));case 5:o="Administrador Actualizado Correctamente",e.next=11;break;case 8:return e.next=10,a(lt(t,c));case 10:o="Administrador Registrado Correctamente";case 11:a(Ye({isOpen:!0,title:"\xc9xito",message:o})),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),500!==(null===e.t0||void 0===e.t0||null===(s=e.t0.response)||void 0===s?void 0:s.status)&&(l=Ft(e.t0,r),a(nt(l))),a(Ye({type:"error",isOpen:!0,title:"Error",message:"Error del Servidor, Intentelo de Nuevo"}));case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,r){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){a(nt(""))}),[]),Object(B.jsx)(_e.a,{initialValues:n||Vt,validationSchema:De.b().shape({persona:De.b().shape({nombre:De.d().max(255).required("Nombre es Requerido"),primerAp:De.d().max(255).required("Primer Apellido es Requerido"),telefono:De.d().matches($t,"N\xfamero de Tel\xe9fono no V\xe1lido").min(10,"Longitud m\xednima de 10 n\xfameros").required("Tel\xe9fono es Requerido")}),usuario:De.b().shape({email:n?De.d().email("Debe ser un Correo Electr\xf3nico V\xe1lido").max(255):De.d().email("Debe ser un Correo Electr\xf3nico V\xe1lido").max(255).required("El Correo Electr\xf3nico es Requerido"),password:n?De.d().length(6,"Longitud m\xednima: 6 car\xe1cteres"):De.d().length(6,"Longitud m\xednima: 6 car\xe1cteres").required("Contrase\xf1a Requerida"),confirmPassword:n?De.d().length(6,"Logitud m\xednima: 6 car\xe1teres").oneOf([De.c("password"),null],"Las Contrase\xf1as no Coinciden"):De.d().length(6,"Logitud m\xednima: 6 car\xe1teres").oneOf([De.c("password"),null],"Las Contrase\xf1as no Coinciden").required("Confirmaci\xf3n de Contrase\xf1a Requerida"),nivelAcceso:null===n?De.a().equals([0,1],"Seleccione los Permisos del Administrador"):De.d().optional()})}),validateOnChange:!0,onSubmit:function(e,t){var r=t.setFieldError;return u(e,r)},children:function(e){var r,a,c,i,s,l,u,d,p,j,b,O,h,x,f,m,v,g,E,A,C,T,S,y,w,P,R,k,D,_,L,N,M,F,H,U,q,G,W,z=e.errors,V=(e.setFieldError,e.handleBlur),K=e.handleChange,$=e.handleSubmit,X=e.isSubmitting,J=e.touched,Y=e.values;return Object(B.jsxs)("form",{onSubmit:$,children:[Object(B.jsx)(I.a,{sx:{mb:3},children:Object(B.jsx)(Q.a,{color:"textPrimary",variant:"h2",children:t})}),Object(B.jsxs)(we.a,{container:!0,spacing:1,children:[Object(B.jsxs)(we.a,{item:!0,xs:6,children:[Object(B.jsx)(We,{error:Boolean((null===(r=J.persona)||void 0===r?void 0:r.nombre)&&(null===(a=z.persona)||void 0===a?void 0:a.nombre)),helperText:(null===(c=J.persona)||void 0===c?void 0:c.nombre)&&(null===(i=z.persona)||void 0===i?void 0:i.nombre),label:"Nombre",disabled:Boolean(n),onBlur:V,onChange:K,name:"persona.nombre",value:null===(s=Y.persona)||void 0===s?void 0:s.nombre}),Object(B.jsx)(We,{error:Boolean((null===(l=J.persona)||void 0===l?void 0:l.primerAp)&&(null===(u=z.persona)||void 0===u?void 0:u.primerAp)),helperText:(null===(d=J.persona)||void 0===d?void 0:d.primerAp)&&(null===(p=z.persona)||void 0===p?void 0:p.primerAp),label:"Primer Apellido",disabled:Boolean(n),onBlur:V,onChange:K,name:"persona.primerAp",value:null===(j=Y.persona)||void 0===j?void 0:j.primerAp}),Object(B.jsx)(We,{error:Boolean((null===(b=J.persona)||void 0===b?void 0:b.segundoAp)&&(null===(O=z.persona)||void 0===O?void 0:O.segundoAp)),helperText:(null===(h=J.persona)||void 0===h?void 0:h.segundoAp)&&(null===(x=z.persona)||void 0===x?void 0:x.segundoAp),label:"Segundo Apellido",onBlur:V,onChange:K,name:"persona.segundoAp",value:null===(f=Y.persona)||void 0===f?void 0:f.segundoAp}),Object(B.jsx)(We,{error:Boolean((null===(m=J.persona)||void 0===m?void 0:m.telefono)&&(null===(v=z.persona)||void 0===v?void 0:v.telefono)),helperText:(null===(g=J.persona)||void 0===g?void 0:g.telefono)&&(null===(E=z.persona)||void 0===E?void 0:E.telefono),label:"Tel\xe9fono",onBlur:V,onChange:K,name:"persona.telefono",value:null===(A=Y.persona)||void 0===A?void 0:A.telefono}),Object(B.jsx)(We,{error:Boolean(J.noInterno&&z.noInterno),helperText:J.noInterno&&z.noInterno,label:"N\xfamero Interno",onBlur:V,onChange:K,name:"noInterno",value:Y.noInterno})]}),Object(B.jsxs)(we.a,{item:!0,xs:6,children:[Object(B.jsx)(We,{error:Boolean((null===(C=J.usuario)||void 0===C?void 0:C.email)&&(null===(T=z.usuario)||void 0===T?void 0:T.email)),helperText:(null===(S=J.usuario)||void 0===S?void 0:S.email)&&(null===(y=z.usuario)||void 0===y?void 0:y.email),label:"Correo Electr\xf3nico",onBlur:V,onChange:K,name:"usuario.email",value:null===(w=Y.usuario)||void 0===w?void 0:w.email}),Object(B.jsx)(We,{error:Boolean((null===(P=J.usuario)||void 0===P?void 0:P.password)&&(null===(R=z.usuario)||void 0===R?void 0:R.password)),helperText:(null===(k=J.usuario)||void 0===k?void 0:k.password)&&(null===(D=z.usuario)||void 0===D?void 0:D.password),label:"Contrase\xf1a",onBlur:V,onChange:K,name:"usuario.password",value:null===(_=Y.usuario)||void 0===_?void 0:_.password,type:"password"}),Object(B.jsx)(We,{error:Boolean((null===(L=J.usuario)||void 0===L?void 0:L.confirmPassword)&&(null===(N=z.usuario)||void 0===N?void 0:N.confirmPassword)),helperText:(null===(M=J.usuario)||void 0===M?void 0:M.confirmPassword)&&(null===(F=z.usuario)||void 0===F?void 0:F.confirmPassword),label:"Confirmar Contrase\xf1a",onBlur:V,onChange:K,name:"usuario.confirmPassword",value:null===(H=Y.usuario)||void 0===H?void 0:H.confirmPassword,type:"password"}),null===n&&Object(B.jsx)(zt,{label:"Permisos",name:"usuario.nivelAcceso",onChange:K,onBlur:V,options:Kt,value:Y.usuario.nivelAcceso,error:Boolean((null===(U=J.usuario)||void 0===U?void 0:U.nivelAcceso)&&(null===(q=z.usuario)||void 0===q?void 0:q.nivelAcceso)),helperText:(null===(G=J.usuario)||void 0===G?void 0:G.nivelAcceso)&&(null===(W=z.usuario)||void 0===W?void 0:W.nivelAcceso)})]})]}),Object(B.jsxs)(I.a,{sx:{py:2},children:[Object(B.jsx)(Ve,{color:"primary",type:"submit",startIcon:Object(B.jsx)(Ne.a,{}),disabled:X,variant:"contained",children:"Registrar"}),Object(B.jsx)(Q.a,{color:"error",align:"center",style:{marginTop:"10px"},children:o})]})]})}})},Jt=r(564),Yt=r(363),Qt=r.n(Yt),Zt=Object(j.a)((function(){return{dialog:{padding:v.spacing(2),position:"absolute",top:v.spacing(5)},dialogTitle:{textAlign:"center"},dialogContent:{textAlign:"center"},dialogAction:{justifyContent:"center"},titleIcon:{backgroundColor:"#fff",color:v.palette.secondary.main,"&:hover":{backgroundColor:"theme.palette.secondary.light",cursor:"default"},"& .MuiSvgIcon-root":{fontSize:"8rem"}}}}));function er(e){var t=Object(E.b)(),r=Object(E.c)((function(e){return e.ui})).confirmDialog,n=e.setTextOk,a=void 0===n?null:n,o=Zt();return Object(B.jsxs)(It.a,{open:r.open,classes:{paper:o.dialog},children:[Object(B.jsx)(kt.a,{className:o.dialogTitle,children:Object(B.jsx)(k.a,{disableRipple:!0,className:o.titleIcon,children:Object(B.jsx)(Qt.a,{})})}),Object(B.jsxs)(Dt.a,{className:o.dialogContent,children:[Object(B.jsx)(Q.a,{variant:"h6",children:r.title}),Object(B.jsx)(Q.a,{variant:"subtitle2",children:r.subtitle})]}),Object(B.jsxs)(Jt.a,{className:o.dialogAction,children:[Object(B.jsx)(le.a,{variant:"contained",color:"inherit",size:"medium",onClick:function(){t(Je({open:!1,inProgress:!1}))},children:null!==a?"Cancelar":"No"}),Object(B.jsx)(le.a,{disabled:r.inProgress,variant:"contained",color:"primary",size:"medium",onClick:r.onConfirm,children:null!==a?a:"Si"})]})]})}var tr=r(59),rr=Object(j.a)((function(){return{child:{},root:{textAlign:"center"}}})),nr=function(e){var t=Object.assign({},e),r=Object(E.b)(),n=Object(E.c)((function(e){return e.administradores})),a=n.administradores,o=n.filterValue,c=n.fetching,u=Object(l.useState)(!1),d=Object(C.a)(u,2),p=d[0],j=d[1],b=Object(l.useState)([]),O=Object(C.a)(b,2),h=O[0],x=O[1],f=Object(l.useState)({title:"",children:null}),m=Object(C.a)(f,2),v=m[0],A=m[1],T=rr(),S=Rt(),w=S.handleLimitChange,P=S.handlePageChange,R=S.limit,k=S.page,D=Ue().doRequest,_=function(e,t,n){r(Je({open:!0,title:"1"===t?"Desea Deshabilitar al Administrador ".concat(n,"?"):"Desea Habilitar al Administrador ".concat(n,"?"),subtitle:"Est\xe1 Acci\xf3n puede ser Revertida",onConfirm:function(){L(e,t),r(Je({inProgress:!0}))}}))},L=function(){var e=Object(s.a)(i.a.mark((function e(t,n){var a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"1"!==n){e.next=6;break}return e.next=4,r(dt(t,D));case 4:e.next=8;break;case 6:return e.next=8,r(pt(t,D));case 8:e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),500!==(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.status)&&(o=Ft(e.t0),r(setError(o))),r(Ye({type:"error",isOpen:!0,title:"Error",message:"Error del Servidor, Intentelo de Nuevo"})),r(Je({inProgress:!1,open:!1}));case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){null!==v.children&&j(!0)}),[v]),Object(l.useEffect)((function(){a&&(j(!1),x(a))}),[a]),Object(l.useEffect)((function(){null!==o&&function(e){if(""!==e){var t=a.filter((function(t){return t.id===e||t.persona.nombre.toLowerCase().includes(e)||t.persona.primerAp.toLowerCase().includes(e)||t.usuario.email.toLowerCase().includes(e)}));x(t)}else x(a)}(o)}),[o]),Object(B.jsxs)(Pe.a,Object(y.a)(Object(y.a)({},t),{},{children:[Object(B.jsx)(xt.a,{children:Object(B.jsxs)(I.a,{sx:{minWidth:1050},children:[Object(B.jsxs)(ft.a,{children:[Object(B.jsx)(mt.a,{children:Object(B.jsxs)(vt.a,{children:[Object(B.jsx)(gt.a,{children:"Clave Administrador"}),Object(B.jsx)(gt.a,{children:"Nombre"}),Object(B.jsx)(gt.a,{children:"Correo Electr\xf3nico"}),Object(B.jsx)(gt.a,{children:"Tel\xe9fono"}),Object(B.jsx)(gt.a,{children:"Fecha de Registro"}),Object(B.jsx)(gt.a,{children:"Permisos"}),Object(B.jsx)(gt.a,{children:"Estatus"}),Object(B.jsx)(gt.a,{children:"Acciones"})]})}),Object(B.jsx)(Et.a,{children:h.slice(k*R,(k+1)*R).map((function(e){return Object(B.jsxs)(vt.a,{children:[Object(B.jsx)(gt.a,{children:e.id}),Object(B.jsxs)(gt.a,{children:[e.persona.nombre," ",e.persona.primerAp," ",e.persona.segundoAp]}),Object(B.jsx)(gt.a,{children:e.usuario.email}),Object(B.jsx)(gt.a,{children:e.persona.telefono}),Object(B.jsx)(gt.a,{children:Object(tr.dateFormater)(e.persona.createdAt)}),Object(B.jsx)(gt.a,{children:0===e.usuario.nivelAcceso?Object(B.jsx)(Q.a,{variant:"button",color:"darkslateblue",children:"Super Admin"}):Object(B.jsx)(Q.a,{variant:"button",color:"lightcoral",children:"Titular"})}),Object(B.jsx)(gt.a,{children:"1"===e.estatus?Object(B.jsx)(Q.a,{variant:"button",color:"green",children:"Activo"}):Object(B.jsx)(Q.a,{variant:"button",color:"red",children:"No Activo"})}),Object(B.jsxs)(gt.a,{children:[Object(B.jsx)(Ve,{color:"primary",onClick:function(){return function(e){var t="Actualizar Administrador";null===e.persona.segundoAp&&(e.persona.segundoAp=""),e.usuario.confirmPassword="",e.usuario.password="",A({title:t,children:Object(B.jsx)(Xt,{setOpen:j,title:t,edit:e})})}(e)},endIcon:Object(B.jsx)(Tt.a,{}),children:" Editar "}),"1"===e.estatus?Object(B.jsx)(Ve,{color:"error",onClick:function(){return _(e.id,e.estatus,e.persona.nombre)},endIcon:Object(B.jsx)(yt.a,{}),children:" Deshabilitar "}):Object(B.jsx)(Ve,{color:"info",onClick:function(){return _(e.id,e.estatus,e.persona.nombre)},endIcon:Object(B.jsx)(Pt.a,{}),children:" Habilitar "})]})]},e.id)}))})]}),c&&Object(B.jsx)("div",{className:T.root,children:Object(B.jsx)(g.a,{color:"primary"})})]})}),Object(B.jsx)(At.a,{component:"div",count:h.length,onPageChange:P,onRowsPerPageChange:w,page:k,rowsPerPage:R,rowsPerPageOptions:[5,10,25]}),Object(B.jsx)(Bt,{title:v.title,open:p,setOpen:j,children:v.children}),Object(B.jsx)(er,{})]}))},ar=r(570),or=r(228),cr=r(680),ir=function(){var e=Object(E.c)((function(e){return e.administradores})).administradores,t=Object(E.b)(),r=Object(l.useState)(!1),n=Object(C.a)(r,2),a=n[0],o=n[1];Object(l.useEffect)((function(){e&&o(!1)}),[e]);return Object(B.jsxs)(I.a,{children:[Object(B.jsx)(I.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(B.jsx)(le.a,{color:"primary",variant:"contained",startIcon:Object(B.jsx)(Tt.a,{}),onClick:function(){return o(!0)},children:"Registrar Administrador"})}),Object(B.jsx)(I.a,{sx:{mt:3},children:Object(B.jsx)(Pe.a,{children:Object(B.jsx)(Re.a,{children:Object(B.jsx)(I.a,{sx:{maxWidth:500},children:Object(B.jsx)(qe.a,{fullWidth:!0,onChange:function(e){t(ot(e.target.value.toLowerCase()))},InputProps:{startAdornment:Object(B.jsx)(ar.a,{position:"start",children:Object(B.jsx)(or.a,{fontSize:"small",color:"action",children:Object(B.jsx)(cr.a,{})})})},placeholder:"Buscar Administrador",variant:"outlined"})})})})}),Object(B.jsx)(Bt,{open:a,setOpen:o,title:"Registrar Nuevo Administrador",children:Object(B.jsx)(Xt,{title:"Registrar"})})]})},sr=r(571),lr=r(528),ur=r(573),dr=Object(j.a)((function(){return{root:{top:v.spacing(9)}}}));function pr(e){var t=Object(E.b)(),r=e.alert,n=e.autoHide,a=void 0===n?3e3:n,o=dr(),c=function(e,n){"clickaway"!==n&&t(Ye(Object(y.a)(Object(y.a)({},r),{},{isOpen:!1})))};return Object(B.jsx)(sr.a,{className:o.root,open:r.isOpen,autoHideDuration:a,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:c,children:Object(B.jsxs)(lr.a,{severity:r.type,onClose:c,children:[Object(B.jsx)(ur.a,{children:r.title}),r.message]})})}var jr=function(){var e=Object(E.b)(),t=Object(E.c)((function(e){return e.ui})).alert,r=Ue().doRequest;return Object(l.useEffect)((function(){Object(s.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(st(r));case 1:case"end":return t.stop()}}),t)})))()}),[]),Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Se.a,{children:Object(B.jsx)("title",{children:"Administradores"})}),Object(B.jsxs)(I.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:[Object(B.jsxs)(ye.a,{maxWidth:!1,children:[Object(B.jsx)(ir,{}),Object(B.jsx)(I.a,{sx:{pt:3},children:Object(B.jsx)(nr,{})})]}),Object(B.jsx)(pr,{alert:t})]})]})},br={EMPLEADOS_FETCH:"[EMPLEADOS]fetch all EMPLEADOS",EMPLEADOS_UPDATE:"[EMPLEADOS] update empleado",EMPLEADOS_CREATE:"[EMPLEADOS] create empleado",EMPLEADOS_SET_ERROR:"[EMPLEADOS] error",EMPLEADOS_SET_CHECKING:"[EMPLEADOS] fetching...",EMPLEADOS_SET_FILTER:"[EMPLEADOS] set value to filter EMPLEADOS",EMPLEADOS_DISABLE:"[EMPLEADOS] disable empleado",EMPLEADOS_ENABLE:"[EMPLEADOS] enable empleado",ESTADO_FETCH:"[ESTADO] fetch all",fetchAll:function(e){return{type:br.EMPLEADOS_FETCH,payload:e}},fetchAllEstado:function(e){return{type:br.ESTADO_FETCH,payload:e}},create:function(e){return{type:br.EMPLEADOS_CREATE,payload:e}},update:function(e){return{type:br.EMPLEADOS_UPDATE,payload:e}},setChecking:function(e){return{type:br.EMPLEADOS_SET_CHECKING,payload:e}},setError:function(e){return{type:br.EMPLEADOS_SET_ERROR,payload:e}},setFilter:function(e){return{type:br.EMPLEADOS_SET_FILTER,payload:e}},disable:function(e){return{type:br.EMPLEADOS_DISABLE,payload:e}},enable:function(e){return{type:br.EMPLEADOS_ENABLE,payload:e}}},Or=br,hr=Or.fetchAll,xr=Or.fetchAllEstado,fr=Or.create,mr=Or.update,vr=Or.setError,gr=Or.setChecking,Er=Or.setFilter,Ar=Or.disable,Cr=Or.enable,Tr=function(e){return function(){var t=Object(s.a)(i.a.mark((function t(r){var n,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(gr(!0)),t.next=4,e("empleado");case 4:n=t.sent,a=n.data,r(hr(a.empleados)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0.response?r(vr(t.t0.response.data.message)):r(vr("Error del Servidor"));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Sr=function(e){return function(){var t=Object(s.a)(i.a.mark((function t(r){var n,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(gr(!0)),t.next=4,e("estado");case 4:n=t.sent,a=n.data,r(xr(a.estados)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0.response?r(vr(t.t0.response.data.message)):r(vr("Error del Servidor"));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},yr=function(e,t){return function(){var r=Object(s.a)(i.a.mark((function r(n){var a,o;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(vr("")),r.next=4,t("empleado",Object(y.a)({},e),"POST");case 4:a=r.sent,o=a.data,n(fr(o.empleado)),r.next=12;break;case 9:throw r.prev=9,r.t0=r.catch(0),r.t0;case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},wr=function(e,t,r){return function(){var n=Object(s.a)(i.a.mark((function n(a){var o,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(vr("")),n.next=4,r("empleado/".concat(e),Object(y.a)({},t),"PUT");case 4:o=n.sent,c=o.data,a(mr(c.empleado)),n.next=12;break;case 9:throw n.prev=9,n.t0=n.catch(0),n.t0;case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},Pr=function(e,t){return function(){var r=Object(s.a)(i.a.mark((function r(n){return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(vr("")),r.next=4,t("empleado/".concat(e),{},"DELETE");case 4:n(Ar(e)),n(Je({open:!1,inProgress:!1})),n(Ye({type:"success",isOpen:!0,title:"\xc9xito",message:"Empleado Deshabilitado Correctamente"})),r.next=12;break;case 9:throw r.prev=9,r.t0=r.catch(0),r.t0;case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},Rr=function(e,t){return function(){var r=Object(s.a)(i.a.mark((function r(n){return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(vr("")),r.next=4,t("empleado/".concat(e),{},"PATCH");case 4:n(Cr(e)),n(Je({open:!1,inProgress:!1})),n(Ye({type:"success",isOpen:!0,title:"\xc9xito",message:"Empleado Habilitado Correctamente"})),r.next=12;break;case 9:throw r.prev=9,r.t0=r.catch(0),r.t0;case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},Ir={DEPARTAMENTOS_FETCH:"[DEPARTAMENTOS]fetch all DEPARTAMENTOS",DEPARTAMENTOS_FETCH_CATEGORIA:"[DEPARTAMENTOS]fetch all DEPARTAMENTOS CATEGORIAS",DEPARTAMENTOS_UPDATE:"[DEPARTAMENTOS] update departamento",DEPARTAMENTOS_CREATE:"[DEPARTAMENTOS] create departamento",DEPARTAMENTOS_SET_ERROR:"[DEPARTAMENTOS] error",DEPARTAMENTOS_SET_CHECKING:"[DEPARTAMENTOS] fetching...",DEPARTAMENTOS_SET_FILTER:"[DEPARTAMENTOS] set value to filter DEPARTAMENTOS",DEPARTAMENTOS_DISABLE:"[DEPARTAMENTOS] disable departamento",DEPARTAMENTOS_DISABLE_ASIG_EMPLEADO:"[DEPARTAMENTOS] disable ASIG EMPLEADO",DEPARTAMENTOS_ENABLE:"[DEPARTAMENTOS] enable departamento",DEPARTAMENTOS_CLEAN_CATEGORIAS:"[DEPARTAMENTOS] clean categorias",DEPARTAMENTOS_EMPLEADOS_ASIGNADOS:"[DEPARTAMENTOS] fetch assigned employes",DEPARTAMENTOS_CLEAN_EMPLEADOS_ASIGNADOS:"[DEPARTAMENTOS] clean assigned employes",fetchAll:function(e){return{type:Ir.DEPARTAMENTOS_FETCH,payload:e}},fetchAllDepartamentoCategorias:function(e){return{type:Ir.DEPARTAMENTOS_FETCH_CATEGORIA,payload:e}},fetchAllDepartamentoEmpleados:function(e){return{type:Ir.DEPARTAMENTOS_EMPLEADOS_ASIGNADOS,payload:e}},cleanEmpleados:function(){return{type:Ir.DEPARTAMENTOS_CLEAN_EMPLEADOS_ASIGNADOS}},create:function(e){return{type:Ir.DEPARTAMENTOS_CREATE,payload:e}},update:function(e){return{type:Ir.DEPARTAMENTOS_UPDATE,payload:e}},setChecking:function(e){return{type:Ir.DEPARTAMENTOS_SET_CHECKING,payload:e}},setError:function(e){return{type:Ir.DEPARTAMENTOS_SET_ERROR,payload:e}},setFilter:function(e){return{type:Ir.DEPARTAMENTOS_SET_FILTER,payload:e}},disable:function(e){return{type:Ir.DEPARTAMENTOS_DISABLE,payload:e}},disableAsigEmpleado:function(e){return{type:Ir.DEPARTAMENTOS_DISABLE_ASIG_EMPLEADO,payload:e}},enable:function(e){return{type:Ir.DEPARTAMENTOS_ENABLE,payload:e}},cleanDeparCategorias:function(){return{type:Ir.DEPARTAMENTOS_CLEAN_CATEGORIAS}}},kr=Ir,Dr=kr.fetchAll,_r=kr.fetchAllDepartamentoCategorias,Lr=kr.fetchAllDepartamentoEmpleados,Nr=kr.create,Br=kr.update,Mr=kr.setError,Fr=kr.setChecking,Hr=kr.setFilter,Ur=kr.disable,qr=(kr.disableAsigEmpleado,kr.enable),Gr=kr.cleanDeparCategorias,Wr=kr.cleanEmpleados,zr=function(e){return function(){var t=Object(s.a)(i.a.mark((function t(r){var n,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(Fr(!0)),t.next=4,e("departamento");case 4:n=t.sent,a=n.data,r(Dr(a.departamentos)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0.response?r(Mr(t.t0.response.data.message)):r(Mr("Error del Servidor"));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Vr=function(e,t){return function(){var r=Object(s.a)(i.a.mark((function r(n){var a,o;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(Mr("")),r.next=4,t("departamento",Object(y.a)({},e),"POST");case 4:a=r.sent,o=a.data,n(Nr(o.departamento)),r.next=12;break;case 9:throw r.prev=9,r.t0=r.catch(0),r.t0;case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},Kr=function(e,t,r){return function(){var n=Object(s.a)(i.a.mark((function n(a){var o,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(Mr("")),n.next=4,r("departamento/".concat(e),Object(y.a)({},t),"PUT");case 4:o=n.sent,c=o.data,a(Br(c.departamento)),n.next=12;break;case 9:throw n.prev=9,n.t0=n.catch(0),n.t0;case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},$r=function(e,t){return function(){var r=Object(s.a)(i.a.mark((function r(n){return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(Mr("")),r.next=4,t("departamento/".concat(e),{},"DELETE");case 4:n(Ur(e)),n(Je({open:!1,inProgress:!1})),n(Ye({type:"success",isOpen:!0,title:"\xc9xito",message:"Departamento Deshabilitado Correctamente"})),r.next=12;break;case 9:throw r.prev=9,r.t0=r.catch(0),r.t0;case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},Xr=function(e,t){return function(){var r=Object(s.a)(i.a.mark((function r(n){return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(Mr("")),r.next=4,t("departamento/".concat(e,"/empleados"),{},"DELETE");case 4:n(Ur(e)),n(Je({open:!1,inProgress:!1})),n(Ye({type:"success",isOpen:!0,title:"\xc9xito",message:"Asignaci\xf3n Eliminada Correctamente"})),r.next=12;break;case 9:throw r.prev=9,r.t0=r.catch(0),r.t0;case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},Jr=function(e,t){return function(){var r=Object(s.a)(i.a.mark((function r(n){return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(Mr("")),r.next=4,t("departamento/".concat(e),{},"PATCH");case 4:n(qr(e)),n(Je({open:!1,inProgress:!1})),n(Ye({type:"success",isOpen:!0,title:"\xc9xito",message:"Departamento Habilitado Correctamente"})),r.next=12;break;case 9:throw r.prev=9,r.t0=r.catch(0),r.t0;case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},Yr={persona:{nombre:"",primerAp:"",segundoAp:"",telefono:""},usuario:{password:"",email:"",confirmPassword:"",nivelAcceso:1},noInterno:"",id:0,ciudad:"",colonia:"",numExt:"",numInt:"",cp:"",idEstado:-1,idDepartamento:-1,calle:""},Qr=/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{4}\)?)?$/,Zr=function(e){var t=e.title,r=e.edit,n=void 0===r?null:r,a=Object(E.b)(),o=Object(E.c)((function(e){return e.empleados})),c=o.error,u=o.estados,d=Object(E.c)((function(e){return e.departamentos})).departamentos,p=Object(l.useState)([{id:-1,text:""}]),j=Object(C.a)(p,2),b=j[0],O=j[1],h=Object(l.useState)([]),x=Object(C.a)(h,2),f=x[0],m=x[1],v=Ue().doRequest,g=function(){var e=Object(s.a)(i.a.mark((function e(t,r){var o,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o="",!n){e.next=8;break}return e.next=5,a(wr(n.id,t,v));case 5:o="Empleado Actualizado Correctamente",e.next=11;break;case 8:return e.next=10,a(yr(t,v));case 10:o="Empleado Registrado Correctamente";case 11:a(Ye({isOpen:!0,title:"\xc9xito",message:o})),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),500!==(null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c?void 0:c.status)&&(s=Ft(e.t0,r),a(vr(s))),a(Ye({type:"error",isOpen:!0,title:"Error",message:"Error del Servidor, Intentelo de Nuevo"}));case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,r){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){a(vr("")),a(zr(v))}),[]),Object(l.useEffect)((function(){!function(){var e=u.map((function(e){return{id:e.id,text:e.nombre}}));O(e)}()}),[u]),Object(l.useEffect)((function(){!function(){var e=d.map((function(e){return{id:e.id,text:e.nombre}}));m(e)}()}),[d]),Object(B.jsx)(_e.a,{initialValues:n||Yr,validationSchema:De.b().shape({persona:De.b().shape({nombre:De.d().max(255).required("Nombre es Requerido"),primerAp:De.d().max(255).required("Primer Apellido es Requerido"),telefono:De.d().matches(Qr,"N\xfamero de Tel\xe9fono no V\xe1lido").min(10,"Longitud m\xednima de 10 n\xfameros").required("Tel\xe9fono es Requerido")}),usuario:De.b().shape({email:n?De.d().email("Debe ser un Correo Electr\xf3nico V\xe1lido").max(255):De.d().email("Debe ser un Correo Electr\xf3nico V\xe1lido").max(255).required("El Correo Electr\xf3nico es Requerido"),password:n?De.d().length(6,"Longitud m\xednima: 6 car\xe1cteres"):De.d().length(6,"Longitud m\xednima: 6 car\xe1cteres").required("Contrase\xf1a Requerida"),confirmPassword:n?De.d().length(6,"Logitud m\xednima: 6 car\xe1teres").oneOf([De.c("password"),null],"Las Contrase\xf1as no Coinciden"):De.d().length(6,"Logitud m\xednima: 6 car\xe1teres").oneOf([De.c("password"),null],"Las Contrase\xf1as no Coinciden").required("Confirmaci\xf3n de Contrase\xf1a Requerida")})}),validateOnChange:!0,onSubmit:function(e,t){var r=t.setFieldError;return g(e,r)},children:function(e){var r,a,o,i,s,l,u,d,p,j,O,h,x,m,v,g,E,A,C,T,S,y,w,P,R,k,D,_,L,N,M,F,H,U,q,G=e.errors,W=e.handleBlur,z=e.handleChange,V=e.handleSubmit,K=e.isSubmitting,$=e.touched,X=e.values;return Object(B.jsxs)("form",{onSubmit:V,children:[Object(B.jsx)(I.a,{sx:{mb:3},children:Object(B.jsx)(Q.a,{color:"textPrimary",variant:"h2",children:t})}),Object(B.jsxs)(we.a,{container:!0,spacing:1,children:[Object(B.jsxs)(we.a,{item:!0,xs:6,children:[Object(B.jsx)(We,{error:Boolean((null===(r=$.persona)||void 0===r?void 0:r.nombre)&&(null===(a=G.persona)||void 0===a?void 0:a.nombre)),helperText:(null===(o=$.persona)||void 0===o?void 0:o.nombre)&&(null===(i=G.persona)||void 0===i?void 0:i.nombre),label:"Nombre",disabled:Boolean(n),onBlur:W,onChange:z,name:"persona.nombre",value:null===(s=X.persona)||void 0===s?void 0:s.nombre}),Object(B.jsx)(We,{error:Boolean((null===(l=$.persona)||void 0===l?void 0:l.primerAp)&&(null===(u=G.persona)||void 0===u?void 0:u.primerAp)),helperText:(null===(d=$.persona)||void 0===d?void 0:d.primerAp)&&(null===(p=G.persona)||void 0===p?void 0:p.primerAp),label:"Primer Apellido",disabled:Boolean(n),onBlur:W,onChange:z,name:"persona.primerAp",value:null===(j=X.persona)||void 0===j?void 0:j.primerAp}),Object(B.jsx)(We,{error:Boolean((null===(O=$.persona)||void 0===O?void 0:O.segundoAp)&&(null===(h=G.persona)||void 0===h?void 0:h.segundoAp)),helperText:(null===(x=$.persona)||void 0===x?void 0:x.segundoAp)&&(null===(m=G.persona)||void 0===m?void 0:m.segundoAp),label:"Segundo Apellido",onBlur:W,onChange:z,name:"persona.segundoAp",value:null===(v=X.persona)||void 0===v?void 0:v.segundoAp}),Object(B.jsx)(We,{error:Boolean((null===(g=$.persona)||void 0===g?void 0:g.telefono)&&(null===(E=G.persona)||void 0===E?void 0:E.telefono)),helperText:(null===(A=$.persona)||void 0===A?void 0:A.telefono)&&(null===(C=G.persona)||void 0===C?void 0:C.telefono),label:"Tel\xe9fono",onBlur:W,onChange:z,name:"persona.telefono",value:null===(T=X.persona)||void 0===T?void 0:T.telefono}),Object(B.jsx)(We,{error:Boolean($.noInterno&&G.noInterno),helperText:$.noInterno&&G.noInterno,label:"N\xfamero Interno",onBlur:W,onChange:z,name:"noInterno",value:X.noInterno}),Object(B.jsx)(We,{error:Boolean($.calle&&G.calle),helperText:$.calle&&G.calle,label:"Calle",onBlur:W,onChange:z,name:"calle",value:X.calle})]}),Object(B.jsxs)(we.a,{item:!0,xs:6,children:[Object(B.jsx)(We,{error:Boolean($.colonia&&G.colonia),helperText:$.colonia&&G.colonia,label:"Colonia",onBlur:W,onChange:z,name:"colonia",value:X.colonia}),Object(B.jsx)(We,{error:Boolean($.numExt&&G.numExt),helperText:$.numExt&&G.numExt,label:"N\xfamero Exterior",onBlur:W,onChange:z,name:"numExt",value:X.numExt}),Object(B.jsx)(We,{error:Boolean($.numInt&&G.numInt),helperText:$.numInt&&G.numInt,label:"N\xfamero Interior",onBlur:W,onChange:z,name:"numInt",value:X.numInt}),Object(B.jsx)(We,{error:Boolean($.cp&&G.cp),helperText:$.cp&&G.cp,label:"C\xf3digo Postal",onBlur:W,onChange:z,name:"cp",value:X.cp}),Object(B.jsx)(We,{error:Boolean($.ciudad&&G.ciudad),helperText:$.ciudad&&G.ciudad,label:"Ciudad",onBlur:W,onChange:z,name:"ciudad",value:X.ciudad}),Object(B.jsx)(zt,{label:"Estado",name:"idEstado",onChange:z,onBlur:W,options:b,value:X.idEstado,error:Boolean($.idEstado&&G.idEstado),helperText:$.idEstado&&G.idEstado})]}),Object(B.jsxs)(we.a,{item:!0,xs:6,children:[Object(B.jsx)(We,{error:Boolean((null===(S=$.usuario)||void 0===S?void 0:S.email)&&(null===(y=G.usuario)||void 0===y?void 0:y.email)),helperText:(null===(w=$.usuario)||void 0===w?void 0:w.email)&&(null===(P=G.usuario)||void 0===P?void 0:P.email),label:"Correo Electr\xf3nico",onBlur:W,onChange:z,name:"usuario.email",value:null===(R=X.usuario)||void 0===R?void 0:R.email}),Object(B.jsx)(We,{error:Boolean((null===(k=$.usuario)||void 0===k?void 0:k.password)&&(null===(D=G.usuario)||void 0===D?void 0:D.password)),helperText:(null===(_=$.usuario)||void 0===_?void 0:_.password)&&(null===(L=G.usuario)||void 0===L?void 0:L.password),label:"Contrase\xf1a",onBlur:W,onChange:z,name:"usuario.password",value:null===(N=X.usuario)||void 0===N?void 0:N.password,type:"password"}),Object(B.jsx)(We,{error:Boolean((null===(M=$.usuario)||void 0===M?void 0:M.confirmPassword)&&(null===(F=G.usuario)||void 0===F?void 0:F.confirmPassword)),helperText:(null===(H=$.usuario)||void 0===H?void 0:H.confirmPassword)&&(null===(U=G.usuario)||void 0===U?void 0:U.confirmPassword),label:"Confirmar Contrase\xf1a",onBlur:W,onChange:z,name:"usuario.confirmPassword",value:null===(q=X.usuario)||void 0===q?void 0:q.confirmPassword,type:"password"})]}),Object(B.jsx)(we.a,{item:!0,xs:6,children:Object(B.jsx)(zt,{label:"Departamento",name:"idDepartamento",onChange:z,onBlur:W,options:f,value:X.idDepartamento,error:Boolean($.idDepartamento&&G.idDepartamento),helperText:$.idDepartamento&&G.idDepartamento})})]}),Object(B.jsxs)(I.a,{sx:{py:2},children:[Object(B.jsx)(Ve,{color:"primary",type:"submit",startIcon:Object(B.jsx)(Ne.a,{}),disabled:K,variant:"contained",children:"Registrar"}),Object(B.jsx)(Q.a,{color:"error",align:"center",style:{marginTop:"10px"},children:c})]})]})}})},en=Object(j.a)((function(){return{child:{},root:{textAlign:"center"}}})),tn=function(e){var t=Object.assign({},e),r=Object(E.b)(),n=Object(E.c)((function(e){return e.empleados})),a=n.empleados,o=n.filterValue,c=n.fetching,u=Object(l.useState)(!1),d=Object(C.a)(u,2),p=d[0],j=d[1],b=Object(l.useState)([]),O=Object(C.a)(b,2),h=O[0],x=O[1],f=Object(l.useState)({title:"",children:null}),m=Object(C.a)(f,2),v=m[0],A=m[1],T=en(),S=Rt(),w=S.handleLimitChange,P=S.handlePageChange,R=S.limit,k=S.page,D=Ue().doRequest,_=function(e,t,n){r(Je({open:!0,title:"1"===t?"Desea Deshabilitar al empleado ".concat(n,"?"):"Desea Habilitar al empleado ".concat(n,"?"),subtitle:"Est\xe1 Acci\xf3n puede ser Revertida",onConfirm:function(){L(e,t),r(Je({inProgress:!0}))}}))},L=function(){var e=Object(s.a)(i.a.mark((function e(t,n){var a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"1"!==n){e.next=6;break}return e.next=4,r(Pr(t,D));case 4:e.next=8;break;case 6:return e.next=8,r(Rr(t,D));case 8:e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),500!==(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.status)&&(o=Ft(e.t0),r(vr(o))),r(Ye({type:"error",isOpen:!0,title:"Error",message:"Error del Servidor, Intentelo de Nuevo"})),r(Je({inProgress:!1,open:!1}));case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){null!==v.children&&j(!0)}),[v]),Object(l.useEffect)((function(){a&&(j(!1),x(a))}),[a]),Object(l.useEffect)((function(){null!==o&&function(e){if(""!==e){var t=a.filter((function(t){return t.id===e||t.persona.nombre.toLowerCase().includes(e)||t.persona.primerAp.toLowerCase().includes(e)||t.usuario.email.toLowerCase().includes(e)}));x(t)}else x(a)}(o)}),[o]),Object(B.jsxs)(Pe.a,Object(y.a)(Object(y.a)({},t),{},{children:[Object(B.jsx)(xt.a,{children:Object(B.jsxs)(I.a,{sx:{minWidth:1050},children:[Object(B.jsxs)(ft.a,{children:[Object(B.jsx)(mt.a,{children:Object(B.jsxs)(vt.a,{children:[Object(B.jsx)(gt.a,{children:"Clave empleado"}),Object(B.jsx)(gt.a,{children:"Nombre"}),Object(B.jsx)(gt.a,{children:"Correo Electr\xf3nico"}),Object(B.jsx)(gt.a,{children:"Tel\xe9fono"}),Object(B.jsx)(gt.a,{children:"Direcci\xf3n"}),Object(B.jsx)(gt.a,{children:"Departamento"}),Object(B.jsx)(gt.a,{children:"Fecha de Registro"}),Object(B.jsx)(gt.a,{children:"Estatus"}),Object(B.jsx)(gt.a,{children:"Acciones"})]})}),Object(B.jsx)(Et.a,{children:h.slice(k*R,(k+1)*R).map((function(e){var t,r;return Object(B.jsxs)(vt.a,{children:[Object(B.jsx)(gt.a,{children:e.id}),Object(B.jsxs)(gt.a,{children:[e.persona.nombre," ",e.persona.primerAp," ",e.persona.segundoAp]}),Object(B.jsx)(gt.a,{children:e.usuario.email}),Object(B.jsx)(gt.a,{children:e.persona.telefono}),Object(B.jsxs)(gt.a,{children:[e.calle," #",e.numExt," ",e.numInt&&"int."+e.numInt,", ",e.colonia,", ",e.cp,", ",e.ciudad,", ",null===e||void 0===e||null===(t=e.estado)||void 0===t?void 0:t.nombre]}),Object(B.jsx)(gt.a,{children:(null===(r=e.Departamento)||void 0===r?void 0:r.length)>0?Object(B.jsx)(Q.a,{color:"royalblue",children:e.Departamento[0].nombre}):Object(B.jsx)(Q.a,{color:"red",children:"No Asignado"})}),Object(B.jsx)(gt.a,{children:Object(tr.dateFormater)(e.persona.createdAt)}),Object(B.jsx)(gt.a,{children:"1"===e.estatus?Object(B.jsx)(Q.a,{variant:"button",color:"green",children:"Activo"}):Object(B.jsx)(Q.a,{variant:"button",color:"red",children:"No Activo"})}),Object(B.jsxs)(gt.a,{children:[Object(B.jsx)(Ve,{color:"primary",onClick:function(){return function(e){var t,r="Actualizar empleado";null===e.persona.segundoAp&&(e.persona.segundoAp=""),e.usuario.confirmPassword="",e.usuario.password="",(null===(t=e.Departamento)||void 0===t?void 0:t.length)>0?e.idDepartamento=e.Departamento[0].id:e.idDepartamento=-1,A({title:r,children:Object(B.jsx)(Zr,{setOpen:j,title:r,edit:e})})}(e)},endIcon:Object(B.jsx)(Tt.a,{}),children:" Editar "}),"1"===e.estatus?Object(B.jsx)(Ve,{color:"error",onClick:function(){return _(e.id,e.estatus,e.persona.nombre)},endIcon:Object(B.jsx)(yt.a,{}),children:" Deshabilitar "}):Object(B.jsx)(Ve,{color:"info",onClick:function(){return _(e.id,e.estatus,e.persona.nombre)},endIcon:Object(B.jsx)(Pt.a,{}),children:" Habilitar "})]})]},e.id)}))})]}),c&&Object(B.jsx)("div",{className:T.root,children:Object(B.jsx)(g.a,{color:"primary"})})]})}),Object(B.jsx)(At.a,{component:"div",count:h.length,onPageChange:P,onRowsPerPageChange:w,page:k,rowsPerPage:R,rowsPerPageOptions:[5,10,25]}),Object(B.jsx)(Bt,{title:v.title,open:p,setOpen:j,children:v.children}),Object(B.jsx)(er,{})]}))},rn=function(){var e=Object(E.c)((function(e){return e.empleados})).empleados,t=Object(E.b)(),r=Object(l.useState)(!1),n=Object(C.a)(r,2),a=n[0],o=n[1];Object(l.useEffect)((function(){e&&o(!1)}),[e]);return Object(B.jsxs)(I.a,{children:[Object(B.jsx)(I.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(B.jsx)(le.a,{color:"primary",variant:"contained",startIcon:Object(B.jsx)(Tt.a,{}),onClick:function(){return o(!0)},children:"Registrar empleado"})}),Object(B.jsx)(I.a,{sx:{mt:3},children:Object(B.jsx)(Pe.a,{children:Object(B.jsx)(Re.a,{children:Object(B.jsx)(I.a,{sx:{maxWidth:500},children:Object(B.jsx)(qe.a,{fullWidth:!0,onChange:function(e){t(Er(e.target.value.toLowerCase()))},InputProps:{startAdornment:Object(B.jsx)(ar.a,{position:"start",children:Object(B.jsx)(or.a,{fontSize:"small",color:"action",children:Object(B.jsx)(cr.a,{})})})},placeholder:"Buscar empleado",variant:"outlined"})})})})}),Object(B.jsx)(Bt,{open:a,setOpen:o,title:"Registrar Nuevo empleado",children:Object(B.jsx)(Zr,{title:"Registrar"})})]})},nn=function(){var e=Object(E.b)(),t=Object(E.c)((function(e){return e.ui})).alert,r=Ue().doRequest;return Object(l.useEffect)((function(){Object(s.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(Tr(r)),e(Sr(r));case 2:case"end":return t.stop()}}),t)})))()}),[]),Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Se.a,{children:Object(B.jsx)("title",{children:"Empleados"})}),Object(B.jsxs)(I.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:[Object(B.jsxs)(ye.a,{maxWidth:!1,children:[Object(B.jsx)(rn,{}),Object(B.jsx)(I.a,{sx:{pt:3},children:Object(B.jsx)(tn,{})})]}),Object(B.jsx)(pr,{alert:t})]})]})},an=(r(365),r(364),r(82),r(79)),on=r.n(an),cn=r(682),sn=(r(574),r(534),r(535),r(121),Object(cn.a)(),Object(cn.a)(),Object(cn.a)(),Object(cn.a)(),Object(cn.a)(),Object(cn.a)(),r(575),r(576),r(366),Object(cn.a)(),on()().subtract(2,"hours"),Object(cn.a)(),on()().subtract(2,"hours"),Object(cn.a)(),on()().subtract(3,"hours"),Object(cn.a)(),on()().subtract(5,"hours"),Object(cn.a)(),on()().subtract(9,"hours"),r(28),r(367),r(577),r(108),r(368),r(110),r(369),r(339),r(370),r(371),r(373),r(372),function(){var e=Object(E.b)(),t=Object(E.c)((function(e){return e.auth})).error,r=Ue().doRequest;return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Se.a,{children:Object(B.jsx)("title",{children:"Login"})}),Object(B.jsx)(I.a,{sx:{backgroundColor:"background.default",display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},children:Object(B.jsx)(ye.a,{maxWidth:"sm",children:Object(B.jsx)(_e.a,{initialValues:{email:"prueba2@aktivo.mx",password:"12345678"},validationSchema:De.b().shape({email:De.d().email("Debe ser un Correo Electr\xf3nico V\xe1lido").max(255).required("El Correo Electr\xf3nico es Requerido"),password:De.d().max(255).required("La Contrase\xf1a es Requerida")}),onSubmit:function(){var t=Object(s.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(V(n.email,n.password,r));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:function(e){var r=e.errors,n=e.handleBlur,a=e.handleChange,o=e.handleSubmit,c=e.isSubmitting,i=e.touched,s=e.values;return Object(B.jsxs)("form",{onSubmit:o,children:[Object(B.jsxs)(I.a,{sx:{mb:3},children:[Object(B.jsx)(Q.a,{color:"textPrimary",variant:"h2",children:"Inicie Sesi\xf3n"}),Object(B.jsx)(Q.a,{color:"textSecondary",gutterBottom:!0,variant:"body2",children:"Inicie sesi\xf3n en la plataforma de cursos"})]}),Object(B.jsx)(qe.a,{error:Boolean(i.email&&r.email),fullWidth:!0,helperText:i.email&&r.email,label:"Correo Electr\xf3nico",margin:"normal",name:"email",onBlur:n,onChange:a,type:"email",value:s.email,variant:"outlined"}),Object(B.jsx)(qe.a,{error:Boolean(i.password&&r.password),fullWidth:!0,helperText:i.password&&r.password,label:"Contrase\xf1a",margin:"normal",name:"password",onBlur:n,onChange:a,type:"password",value:s.password,variant:"outlined"}),Object(B.jsxs)(I.a,{sx:{py:2},children:[Object(B.jsx)(le.a,{color:"primary",disabled:c,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"Iniciar Sesi\xf3n"}),Object(B.jsx)(Q.a,{color:"error",align:"center",style:{marginTop:"10px"},children:t})]})]})}})})})]})}),ln=function(){return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Se.a,{children:Object(B.jsx)("title",{children:"404 | Material Kit"})}),Object(B.jsx)(I.a,{sx:{backgroundColor:"background.default",display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},children:Object(B.jsxs)(ye.a,{maxWidth:"md",children:[Object(B.jsx)(Q.a,{align:"center",color:"textPrimary",variant:"h1",children:"404: The page you are looking for isn\u2019t here"}),Object(B.jsx)(Q.a,{align:"center",color:"textPrimary",variant:"subtitle2",children:"You either tried some shady route or you came here by mistake. Whichever it is, try using the navigation"}),Object(B.jsx)(I.a,{sx:{textAlign:"center"},children:Object(B.jsx)("img",{alt:"Under development",src:"/static/images/undraw_page_not_found_su7k.svg",style:{marginTop:50,display:"inline-block",maxWidth:"100%",width:560}})})]})})]})},un={CATEGORIAS_FETCH:"[CATEGORIAS]fetch all CATEGORIAS",CATEGORIAS_UPDATE:"[CATEGORIAS] update categoria",CATEGORIAS_CREATE:"[CATEGORIAS] create categoria",CATEGORIAS_SET_ERROR:"[CATEGORIAS] error",CATEGORIAS_SET_CHECKING:"[CATEGORIAS] fetching...",CATEGORIAS_SET_FILTER:"[CATEGORIAS] set value to filter CATEGORIAS",CATEGORIAS_DISABLE:"[CATEGORIAS] disable categoria",CATEGORIAS_ENABLE:"[CATEGORIAS] enable categoria",fetchAll:function(e){return{type:un.CATEGORIAS_FETCH,payload:e}},create:function(e){return{type:un.CATEGORIAS_CREATE,payload:e}},update:function(e){return{type:un.CATEGORIAS_UPDATE,payload:e}},setChecking:function(e){return{type:un.CATEGORIAS_SET_CHECKING,payload:e}},setError:function(e){return{type:un.CATEGORIAS_SET_ERROR,payload:e}},setFilter:function(e){return{type:un.CATEGORIAS_SET_FILTER,payload:e}},disable:function(e){return{type:un.CATEGORIAS_DISABLE,payload:e}},enable:function(e){return{type:un.CATEGORIAS_ENABLE,payload:e}}},dn=un,pn=dn.fetchAll,jn=dn.create,bn=dn.update,On=dn.setError,hn=dn.setChecking,xn=dn.setFilter,fn=dn.disable,mn=dn.enable,vn=function(e){return function(){var t=Object(s.a)(i.a.mark((function t(r){var n,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(hn(!0)),t.next=4,e("categoria");case 4:n=t.sent,a=n.data,r(pn(a.categorias)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0.response?r(On(t.t0.response.data.message)):r(On("Error del Servidor"));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},gn=function(e,t){return function(){var r=Object(s.a)(i.a.mark((function r(n){var a,o;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(On("")),r.next=4,t("categoria",Object(y.a)({},e),"POST");case 4:a=r.sent,o=a.data,n(jn(o.categoria)),r.next=12;break;case 9:throw r.prev=9,r.t0=r.catch(0),r.t0;case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},En=function(e,t,r){return function(){var n=Object(s.a)(i.a.mark((function n(a){var o,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(On("")),n.next=4,r("categoria/".concat(e),Object(y.a)({},t),"PUT");case 4:o=n.sent,c=o.data,a(bn(c.categoria)),n.next=12;break;case 9:throw n.prev=9,n.t0=n.catch(0),n.t0;case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},An=function(e,t){return function(){var r=Object(s.a)(i.a.mark((function r(n){return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(On("")),r.next=4,t("categoria/".concat(e),{},"DELETE");case 4:n(fn(e)),n(Je({open:!1,inProgress:!1})),n(Ye({type:"success",isOpen:!0,title:"\xc9xito",message:"Categor\xeda Deshabilitada Correctamente"})),r.next=12;break;case 9:throw r.prev=9,r.t0=r.catch(0),r.t0;case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},Cn=function(e,t){return function(){var r=Object(s.a)(i.a.mark((function r(n){return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(On("")),r.next=4,t("categoria/".concat(e),{},"PATCH");case 4:n(mn(e)),n(Je({open:!1,inProgress:!1})),n(Ye({type:"success",isOpen:!0,title:"\xc9xito",message:"Categor\xeda Habilitada Correctamente"})),r.next=12;break;case 9:throw r.prev=9,r.t0=r.catch(0),r.t0;case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},Tn={id:0,nombre:"",descripcion:""},Sn=function(e){var t=e.title,r=e.edit,n=void 0===r?null:r,a=Object(E.b)(),o=Object(E.c)((function(e){return e.categorias})).error,c=Ue().doRequest,u=function(){var e=Object(s.a)(i.a.mark((function e(t,r){var o,s,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o="",!n){e.next=8;break}return e.next=5,a(En(n.id,t,c));case 5:o="Categor\xeda Actualizada Correctamente",e.next=11;break;case 8:return e.next=10,a(gn(t,c));case 10:o="Categor\xeda Registrada Correctamente";case 11:a(Ye({isOpen:!0,title:"\xc9xito",message:o})),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),500!==(null===e.t0||void 0===e.t0||null===(s=e.t0.response)||void 0===s?void 0:s.status)&&(l=Ft(e.t0,r),a(On(l))),a(Ye({type:"error",isOpen:!0,title:"Error",message:"Error del Servidor, Intentelo de Nuevo"}));case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,r){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){a(On(""))}),[]),Object(B.jsx)(_e.a,{initialValues:n||Tn,validationSchema:De.b().shape({nombre:De.d().min(4,"Longitud M\xednima 4 Letras").required("Nombre es Requerido"),descripcion:De.d().min(4,"Longitud M\xednima 4 Letras").required("Descripci\xf3n es Requerida")}),validateOnChange:!0,onSubmit:function(e,t){var r=t.setFieldError;return u(e,r)},children:function(e){var r=e.errors,a=e.handleBlur,c=e.handleChange,i=e.handleSubmit,s=e.isSubmitting,l=e.touched,u=e.values;return Object(B.jsxs)("form",{onSubmit:i,children:[Object(B.jsx)(I.a,{sx:{mb:3},children:Object(B.jsx)(Q.a,{color:"textPrimary",variant:"h2",children:t})}),Object(B.jsx)(we.a,{container:!0,spacing:1,children:Object(B.jsxs)(we.a,{item:!0,xs:12,children:[Object(B.jsx)(We,{error:Boolean(l.nombre&&r.nombre),helperText:l.nombre&&r.nombre,label:"Nombre",disabled:Boolean(n),onBlur:a,onChange:c,name:"nombre",value:u.nombre}),Object(B.jsx)(We,{error:Boolean(l.descripcion&&r.descripcion),helperText:l.descripcion&&r.descripcion,label:"Descripci\xf3n",onBlur:a,onChange:c,name:"descripcion",value:u.descripcion})]})}),Object(B.jsxs)(I.a,{sx:{py:2},children:[Object(B.jsx)(Ve,{color:"primary",type:"submit",startIcon:Object(B.jsx)(Ne.a,{}),disabled:s,variant:"contained",children:"Registrar"}),Object(B.jsx)(Q.a,{color:"error",align:"center",style:{marginTop:"10px"},children:o})]})]})}})},yn=Object(j.a)((function(){return{child:{},root:{textAlign:"center"}}})),wn=function(e){var t=Object.assign({},e),r=Object(E.b)(),n=Object(E.c)((function(e){return e.categorias})),a=n.categorias,o=n.filterValue,c=n.fetching,u=Object(l.useState)(!1),d=Object(C.a)(u,2),p=d[0],j=d[1],b=Object(l.useState)([]),O=Object(C.a)(b,2),h=O[0],x=O[1],f=Object(l.useState)({title:"",children:null}),m=Object(C.a)(f,2),v=m[0],A=m[1],T=yn(),S=Rt(),w=S.handleLimitChange,P=S.handlePageChange,R=S.limit,k=S.page,D=Ue().doRequest,_=function(e,t,n){r(Je({open:!0,title:"1"===t?"Desea Deshabilitar la Categor\xeda ".concat(n,"?"):"Desea Habilitar la Categor\xeda ".concat(n,"?"),subtitle:"Est\xe1 Acci\xf3n puede ser Revertida",onConfirm:function(){L(e,t),r(Je({inProgress:!0}))}}))},L=function(){var e=Object(s.a)(i.a.mark((function e(t,n){var a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"1"!==n){e.next=6;break}return e.next=4,r(An(t,D));case 4:e.next=8;break;case 6:return e.next=8,r(Cn(t,D));case 8:e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),500!==(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.status)&&(o=Ft(e.t0),r(On(o))),r(Ye({type:"error",isOpen:!0,title:"Error",message:"Error del Servidor, Intentelo de Nuevo"})),r(Je({inProgress:!1,open:!1}));case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){null!==v.children&&j(!0)}),[v]),Object(l.useEffect)((function(){a&&(j(!1),x(a))}),[a]),Object(l.useEffect)((function(){null!==o&&function(e){if(""!==e){var t=a.filter((function(t){return t.id===e||t.nombre.toLowerCase().includes(e)||t.descripcion.toLowerCase().includes(e)}));x(t)}else x(a)}(o)}),[o]),Object(B.jsxs)(Pe.a,Object(y.a)(Object(y.a)({},t),{},{children:[Object(B.jsx)(xt.a,{children:Object(B.jsxs)(I.a,{sx:{minWidth:1050},children:[Object(B.jsxs)(ft.a,{children:[Object(B.jsx)(mt.a,{children:Object(B.jsxs)(vt.a,{children:[Object(B.jsx)(gt.a,{children:"Clave categoria"}),Object(B.jsx)(gt.a,{children:"Nombre"}),Object(B.jsx)(gt.a,{children:"Descripci\xf3n"}),Object(B.jsx)(gt.a,{children:"Fecha de Registro"}),Object(B.jsx)(gt.a,{children:"Estatus"}),Object(B.jsx)(gt.a,{children:"Acciones"})]})}),Object(B.jsx)(Et.a,{children:h.slice(k*R,(k+1)*R).map((function(e){return Object(B.jsxs)(vt.a,{children:[Object(B.jsx)(gt.a,{children:e.id}),Object(B.jsx)(gt.a,{children:e.nombre}),Object(B.jsx)(gt.a,{children:e.descripcion}),Object(B.jsx)(gt.a,{children:Object(tr.dateFormater)(e.createdAt)}),Object(B.jsx)(gt.a,{children:"1"===e.estatus?Object(B.jsx)(Q.a,{variant:"button",color:"green",children:"Activa"}):Object(B.jsx)(Q.a,{variant:"button",color:"red",children:"No Activa"})}),Object(B.jsxs)(gt.a,{children:[Object(B.jsx)(Ve,{color:"primary",onClick:function(){return function(e){var t="Actualizar Categor\xeda";A({title:t,children:Object(B.jsx)(Sn,{setOpen:j,title:t,edit:e})})}(e)},endIcon:Object(B.jsx)(Tt.a,{}),children:" Editar "}),"1"===e.estatus?Object(B.jsx)(Ve,{color:"error",onClick:function(){return _(e.id,e.estatus,e.nombre)},endIcon:Object(B.jsx)(yt.a,{}),children:" Deshabilitar "}):Object(B.jsx)(Ve,{color:"info",onClick:function(){return _(e.id,e.estatus,e.nombre)},endIcon:Object(B.jsx)(Pt.a,{}),children:" Habilitar "})]})]},e.id)}))})]}),c&&Object(B.jsx)("div",{className:T.root,children:Object(B.jsx)(g.a,{color:"primary"})})]})}),Object(B.jsx)(At.a,{component:"div",count:h.length,onPageChange:P,onRowsPerPageChange:w,page:k,rowsPerPage:R,rowsPerPageOptions:[5,10,25]}),Object(B.jsx)(Bt,{title:v.title,open:p,setOpen:j,children:v.children}),Object(B.jsx)(er,{})]}))},Pn=function(){var e=Object(E.c)((function(e){return e.categorias})).categorias,t=Object(E.b)(),r=Object(l.useState)(!1),n=Object(C.a)(r,2),a=n[0],o=n[1];Object(l.useEffect)((function(){e&&o(!1)}),[e]);return Object(B.jsxs)(I.a,{children:[Object(B.jsx)(I.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(B.jsx)(le.a,{color:"primary",variant:"contained",startIcon:Object(B.jsx)(Tt.a,{}),onClick:function(){return o(!0)},children:"Registrar Categor\xeda"})}),Object(B.jsx)(I.a,{sx:{mt:3},children:Object(B.jsx)(Pe.a,{children:Object(B.jsx)(Re.a,{children:Object(B.jsx)(I.a,{sx:{maxWidth:500},children:Object(B.jsx)(qe.a,{fullWidth:!0,onChange:function(e){t(xn(e.target.value.toLowerCase()))},InputProps:{startAdornment:Object(B.jsx)(ar.a,{position:"start",children:Object(B.jsx)(or.a,{fontSize:"small",color:"action",children:Object(B.jsx)(cr.a,{})})})},placeholder:"Buscar categor\xeda",variant:"outlined"})})})})}),Object(B.jsx)(Bt,{open:a,setOpen:o,title:"Registrar Nueva Categor\xeda",children:Object(B.jsx)(Sn,{title:"Registrar"})})]})},Rn=function(){var e=Object(E.b)(),t=Object(E.c)((function(e){return e.ui})).alert,r=Ue().doRequest;return Object(l.useEffect)((function(){Object(s.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(vn(r));case 1:case"end":return t.stop()}}),t)})))()}),[]),Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Se.a,{children:Object(B.jsx)("title",{children:"Categorias"})}),Object(B.jsxs)(I.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:[Object(B.jsxs)(ye.a,{maxWidth:!1,children:[Object(B.jsx)(Pn,{}),Object(B.jsx)(I.a,{sx:{pt:3},children:Object(B.jsx)(wn,{})})]}),Object(B.jsx)(pr,{alert:t})]})]})},In=r(580),kn=r(578),Dn=r(579),_n=r(527),Ln=r(374),Nn=r.n(Ln),Bn={CAPITULOS_FETCH:"[CAPITULOS]fetch all CAPITULOS",CAPITULOS_UPDATE:"[CAPITULOS] update capitulo",CAPITULOS_CREATE:"[CAPITULOS] create capitulo",CAPITULOS_SET_ERROR:"[CAPITULOS] error",CAPITULOS_SET_CHECKING:"[CAPITULOS] fetching...",CAPITULOS_SET_FILTER:"[CAPITULOS] set value to filter CAPITULOS",CAPITULOS_DISABLE:"[CAPITULOS] disable capitulo",CAPITULOS_ENABLE:"[CAPITULOS] enable capitulo",fetchAll:function(e){return{type:Bn.CAPITULOS_FETCH,payload:e}},create:function(e){return{type:Bn.CAPITULOS_CREATE,payload:e}},update:function(e){return{type:Bn.CAPITULOS_UPDATE,payload:e}},setChecking:function(e){return{type:Bn.CAPITULOS_SET_CHECKING,payload:e}},setError:function(e){return{type:Bn.CAPITULOS_SET_ERROR,payload:e}},setFilter:function(e){return{type:Bn.CAPITULOS_SET_FILTER,payload:e}},disable:function(e){return{type:Bn.CAPITULOS_DISABLE,payload:e}},enable:function(e){return{type:Bn.CAPITULOS_ENABLE,payload:e}}},Mn=Bn,Fn=Mn.fetchAll,Hn=Mn.create,Un=Mn.update,qn=Mn.setError,Gn=Mn.setChecking,Wn=Mn.setFilter,zn=Mn.disable,Vn=Mn.enable,Kn=function(e){return function(){var t=Object(s.a)(i.a.mark((function t(r){var n,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(Gn(!0)),t.next=4,e("capitulo");case 4:n=t.sent,a=n.data,r(Fn(a.capitulos)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0.response?r(qn(t.t0.response.data.message)):r(qn("Error del Servidor"));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},$n=function(e,t){return function(){var r=Object(s.a)(i.a.mark((function r(n){var a,o;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(qn("")),r.next=4,t("capitulo",Object(y.a)({},e),"POST");case 4:a=r.sent,o=a.data,n(Hn(o.capitulo)),r.next=12;break;case 9:throw r.prev=9,r.t0=r.catch(0),r.t0;case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},Xn=function(e,t,r){return function(){var n=Object(s.a)(i.a.mark((function n(a){var o,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(qn("")),n.next=4,r("capitulo/".concat(e),Object(y.a)({},t),"PUT");case 4:o=n.sent,c=o.data,a(Un(c.capitulo)),n.next=12;break;case 9:throw n.prev=9,n.t0=n.catch(0),n.t0;case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},Jn=function(e,t){return function(){var r=Object(s.a)(i.a.mark((function r(n){return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(qn("")),r.next=4,t("capitulo/".concat(e),{},"DELETE");case 4:n(zn(e)),n(Je({open:!1,inProgress:!1})),n(Ye({type:"success",isOpen:!0,title:"\xc9xito",message:"Categor\xeda Deshabilitada Correctamente"})),r.next=12;break;case 9:throw r.prev=9,r.t0=r.catch(0),r.t0;case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},Yn=function(e,t){return function(){var r=Object(s.a)(i.a.mark((function r(n){return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(qn("")),r.next=4,t("capitulo/".concat(e),{},"PATCH");case 4:n(Vn(e)),n(Je({open:!1,inProgress:!1})),n(Ye({type:"success",isOpen:!0,title:"\xc9xito",message:"Categor\xeda Habilitada Correctamente"})),r.next=12;break;case 9:throw r.prev=9,r.t0=r.catch(0),r.t0;case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},Qn=function(e){var t=new FileReader;return new Promise((function(r,n){try{t.onloadend=function(){r(t.result)},t.readAsDataURL(e)}catch(a){n(a)}}))};var Zn,ea=["pdf","docx","doc","xlx","xlsx","xlsm","xlsb"],ta=function(e,t){var r="";return r=null!==t?t:e.path.split(".").pop(),1===e.tipo?Object(B.jsx)("video",{src:e.path,controls:!0}):ea.includes(r)?Object(B.jsx)("iframe",{src:e.path,width:"600",height:"300"}):Object(B.jsx)("img",{src:e.path,alt:"Archivo Curso",width:"600"})},ra=(Zn={id:0,nombre:"",descripcion:"",tipo:-1,path:"",duracion:""},Object(T.a)(Zn,"id",0),Object(T.a)(Zn,"idCategoria",-1),Object(T.a)(Zn,"file",{base64:"",fileName:""}),Object(T.a)(Zn,"uploadFile",!0),Zn),na=[{id:1,text:"Video"},{id:2,text:"Archivo"}],aa=function(e){var t=e.title,r=e.edit,n=void 0===r?null:r,a=Object(E.b)(),o=Object(E.c)((function(e){return e.capitulos})).error,c=Object(E.c)((function(e){return e.categorias})).categorias,u=Object(l.useState)([]),d=Object(C.a)(u,2),p=d[0],j=d[1],b=Ue().doRequest,O=function(){var e=Object(E.b)(),t=Object(l.useState)(null),r=Object(C.a)(t,2),n=r[0],a=r[1];return{handleFile:function(){var t=Object(s.a)(i.a.mark((function t(r,n){var o,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r.target.files.length>0)){t.next=10;break}return o=r.target.files[0],n("file.fileName",o.name,!0),t.next=6,Qn(o);case 6:c=t.sent,n("file.base64",c),n("path",c),a(o.name.split(".").pop());case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),e(Ye({isOpen:!0,type:"error",title:"error",message:"Error al Seleccionar el Archivo, Intentelo de Nuevo"}));case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}(),ext:n}}(),h=O.handleFile,x=O.ext,f=function(){var e=Object(s.a)(i.a.mark((function e(t,r){var o,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o="",!n){e.next=8;break}return e.next=5,a(Xn(n.id,t.uploadFile?Object(y.a)({},t):Object(y.a)(Object(y.a)({},t),{},{base64:null}),b));case 5:o="Cap\xedtulo Actualizado Correctamente",e.next=11;break;case 8:return e.next=10,a($n(t.uploadFile?Object(y.a)({},t):Object(y.a)(Object(y.a)({},t),{},{base64:null}),b));case 10:o="Cap\xedtulo Registrado Correctamente";case 11:a(Ye({isOpen:!0,title:"\xc9xito",message:o})),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),500!==(null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c?void 0:c.status)&&(s=Ft(e.t0,r),a(qn(s))),a(Ye({type:"error",isOpen:!0,title:"Error",message:"Error del Servidor, Intentelo de Nuevo"}));case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,r){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){j(c.map((function(e){return{id:e.id,text:"".concat(e.nombre)}})))}),[c]),Object(l.useEffect)((function(){a(qn("")),a(vn(b))}),[]),Object(B.jsx)(_e.a,{initialValues:n?Object(y.a)(Object(y.a)({},n),{},{tipo:"video"===n.tipo?1:2}):ra,validationSchema:De.b().shape({nombre:De.d().min(4,"Longitud M\xednima 4 Letras").required("Nombre es Requerido"),descripcion:De.d().nullable().min(4,"Longitud M\xednima 4 Letras").required("Descripci\xf3n es Requerida"),tipo:De.a().equals([1,2],"Seleccione el Tipo del Recurso").required("Tipo del Recurso es Requerido"),duracion:De.a().typeError("Ingrese un N\xfamero").nullable(!0),idCategoria:De.a().positive("Seleccione una Categor\xeda").required("Categor\xeda es Requerida"),file:De.b().shape({fileName:De.d().required("Seleccione un Archivo / Video")})}),validateOnChange:!0,onSubmit:function(e,t){var r=t.setFieldError;return f(e,r)},children:function(e){var r,a,c,i,s=e.errors,l=e.handleBlur,u=e.handleChange,d=e.handleSubmit,j=e.isSubmitting,b=e.touched,O=e.values,f=e.setFieldValue;return Object(B.jsxs)("form",{onSubmit:d,children:[Object(B.jsx)(I.a,{sx:{mb:3},children:Object(B.jsx)(Q.a,{color:"textPrimary",variant:"h2",children:t})}),Object(B.jsxs)(we.a,{container:!0,spacing:1,children:[Object(B.jsxs)(we.a,{item:!0,xs:6,children:[Object(B.jsx)(We,{error:Boolean(b.nombre&&s.nombre),helperText:b.nombre&&s.nombre,label:"Nombre",onBlur:l,onChange:u,name:"nombre",value:O.nombre}),Object(B.jsx)(We,{error:Boolean(b.descripcion&&s.descripcion),helperText:b.descripcion&&s.descripcion,label:"Descripci\xf3n",onBlur:l,onChange:u,name:"descripcion",value:O.descripcion}),Object(B.jsx)(zt,{label:"Tipo",name:"tipo",onChange:u,onBlur:l,options:na,value:O.tipo,error:Boolean(b.tipo&&s.tipo),helperText:b.tipo&&s.tipo}),"video"===O.tipo&&Object(B.jsx)(We,{error:Boolean(b.duracion&&s.duracion),helperText:b.duracion&&s.duracion,label:"Duraci\xf3n",onBlur:l,onChange:u,name:"duracion",value:O.duracion})]}),Object(B.jsx)(we.a,{item:!0,xs:6,children:Object(B.jsx)(zt,{label:"Categor\xeda",name:"idCategoria",onChange:u,onBlur:l,options:p,value:O.idCategoria,error:Boolean(b.idCategoria&&s.idCategoria),helperText:b.idCategoria&&s.idCategoria})}),Object(B.jsx)(we.a,{item:!0,xs:12,children:Object(B.jsx)(We,{error:Boolean((null===(r=b.file)||void 0===r?void 0:r.fileName)&&(null===(a=s.file)||void 0===a?void 0:a.fileName)),helperText:(null===(c=b.file)||void 0===c?void 0:c.fileName)&&(null===(i=s.file)||void 0===i?void 0:i.fileName),label:n?"Archivo":"Archivo Seleccionado",onBlur:l,onChange:u,name:"file.fileName",fullWidth:!1,disabled:!0,value:O.file.fileName})}),Object(B.jsx)(we.a,{item:!0,xs:12,children:Object(B.jsxs)(le.a,{color:"info",startIcon:Object(B.jsx)(Nn.a,{}),variant:"outlined",onClick:function(){return document.getElementById("fileSelector").click()},onChange:function(e){h(e,f)},children:[Object(B.jsx)("input",{type:"file",style:{display:"none"},id:"fileSelector"}),"Seleccionar Archivo"]})}),Object(B.jsxs)(we.a,{item:!0,xs:12,children:[Object(B.jsx)(kn.a,{row:!0,children:Object(B.jsx)(Dn.a,{control:Object(B.jsx)(_n.a,{checked:O.uploadFile,onChange:u,name:"uploadFile"}),label:"Subir Archivo"})}),Object(B.jsx)(we.a,{item:!0,xs:6,children:Object(B.jsx)(Q.a,{variant:"button",children:"Si desmarcas est\xe1 casilla, no se subir\xe1 el archivo pero se crear\xe1 el registro y ruta para subirlo por FTP"})})]}),Object(B.jsx)(we.a,{item:!0,xs:12,children:""!==O.path&&ta({path:O.path,tipo:O.tipo},x)})]}),Object(B.jsxs)(I.a,{sx:{py:2},children:[Object(B.jsx)(Ve,{color:"primary",type:"submit",startIcon:Object(B.jsx)(Ne.a,{}),disabled:j,variant:"contained",children:"Registrar"}),Object(B.jsx)(Q.a,{color:"error",align:"center",style:{marginTop:"10px"},children:o})]})]})}})},oa=Object(j.a)((function(){return{child:{},root:{textAlign:"center"}}})),ca=function(e){var t=Object.assign({},e),r=Object(E.b)(),n=Object(E.c)((function(e){return e.capitulos})),a=n.capitulos,o=n.filterValue,c=n.fetching,u=Object(l.useState)(!1),d=Object(C.a)(u,2),p=d[0],j=d[1],b=Object(l.useState)([]),O=Object(C.a)(b,2),h=O[0],x=O[1],f=Object(l.useState)({title:"",children:null}),m=Object(C.a)(f,2),v=m[0],A=m[1],T=oa(),S=Rt(),w=S.handleLimitChange,P=S.handlePageChange,R=S.limit,k=S.page,D=Ue().doRequest,_=function(e,t,n){r(Je({open:!0,title:"1"===t?"Desea Deshabilitar la Cap\xedtulo ".concat(n,"?"):"Desea Habilitar la Cap\xedtulo ".concat(n,"?"),subtitle:"Est\xe1 Acci\xf3n puede ser Revertida",onConfirm:function(){L(e,t),r(Je({inProgress:!0}))}}))},L=function(){var e=Object(s.a)(i.a.mark((function e(t,n){var a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"1"!==n){e.next=6;break}return e.next=4,r(Jn(t,D));case 4:e.next=8;break;case 6:return e.next=8,r(Yn(t,D));case 8:e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),500!==(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.status)&&(o=Ft(e.t0),r(qn(o))),r(Ye({type:"error",isOpen:!0,title:"Error",message:"Error del Servidor, Intentelo de Nuevo"})),r(Je({inProgress:!1,open:!1}));case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){null!==v.children&&j(!0)}),[v]),Object(l.useEffect)((function(){a&&(j(!1),x(a))}),[a]),Object(l.useEffect)((function(){null!==o&&function(e){if(""!==e){var t=a.filter((function(t){return t.id===e||t.nombre.toLowerCase().includes(e)||t.descripcion.toLowerCase().includes(e)||t.categoria.nombre.toLowerCase().includes(e)}));x(t)}else x(a)}(o)}),[o]),Object(B.jsxs)(Pe.a,Object(y.a)(Object(y.a)({},t),{},{children:[Object(B.jsx)(xt.a,{children:Object(B.jsxs)(I.a,{sx:{minWidth:1050},children:[Object(B.jsxs)(ft.a,{children:[Object(B.jsx)(mt.a,{children:Object(B.jsxs)(vt.a,{children:[Object(B.jsx)(gt.a,{children:"Clave capitulo"}),Object(B.jsx)(gt.a,{children:"Nombre"}),Object(B.jsx)(gt.a,{children:"Descripci\xf3n"}),Object(B.jsx)(gt.a,{children:"Contenido"}),Object(B.jsx)(gt.a,{children:"Fecha de Registro"}),Object(B.jsx)(gt.a,{children:"Estatus"}),Object(B.jsx)(gt.a,{children:"Acciones"})]})}),Object(B.jsx)(Et.a,{children:h.slice(k*R,(k+1)*R).map((function(e){return Object(B.jsxs)(vt.a,{children:[Object(B.jsx)(gt.a,{children:e.id}),Object(B.jsx)(gt.a,{children:e.nombre}),Object(B.jsx)(gt.a,{children:e.descripcion}),Object(B.jsxs)(gt.a,{children:[e.tipo.toUpperCase()," ",Object(B.jsx)("br",{}),Object(B.jsx)(In.a,{href:e.path,target:"__blank",children:"Ver Archivo "}),e.duracion?"".concat(e.duracion," min."):""," ",Object(B.jsx)("br",{}),"FTP: dist/public/videos/".concat(e.id,"/").concat(e.path.split("/").pop())]}),Object(B.jsx)(gt.a,{children:Object(tr.dateFormater)(e.createdAt)}),Object(B.jsx)(gt.a,{children:"1"===e.estatus?Object(B.jsx)(Q.a,{variant:"button",color:"green",children:"Activo"}):Object(B.jsx)(Q.a,{variant:"button",color:"red",children:"No Activo"})}),Object(B.jsxs)(gt.a,{children:[Object(B.jsx)(Ve,{color:"primary",onClick:function(){return function(e){var t="Actualizar Cap\xedtulo";e.file={base64:"",fileName:e.path.split("/").pop()},A({title:t,children:Object(B.jsx)(aa,{setOpen:j,title:t,edit:e})})}(e)},endIcon:Object(B.jsx)(Tt.a,{}),children:" Editar "}),"1"===e.estatus?Object(B.jsx)(Ve,{color:"error",onClick:function(){return _(e.id,e.estatus,e.nombre)},endIcon:Object(B.jsx)(yt.a,{}),children:" Deshabilitar "}):Object(B.jsx)(Ve,{color:"info",onClick:function(){return _(e.id,e.estatus,e.nombre)},endIcon:Object(B.jsx)(Pt.a,{}),children:" Habilitar "})]})]},e.id)}))})]}),c&&Object(B.jsx)("div",{className:T.root,children:Object(B.jsx)(g.a,{color:"primary"})})]})}),Object(B.jsx)(At.a,{component:"div",count:h.length,onPageChange:P,onRowsPerPageChange:w,page:k,rowsPerPage:R,rowsPerPageOptions:[5,10,25]}),Object(B.jsx)(Bt,{title:v.title,open:p,setOpen:j,children:v.children}),Object(B.jsx)(er,{})]}))},ia=function(){var e=Object(E.c)((function(e){return e.capitulos})).capitulos,t=Object(E.b)(),r=Object(l.useState)(!1),n=Object(C.a)(r,2),a=n[0],o=n[1];Object(l.useEffect)((function(){e&&o(!1)}),[e]);return Object(B.jsxs)(I.a,{children:[Object(B.jsx)(I.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(B.jsx)(le.a,{color:"primary",variant:"contained",startIcon:Object(B.jsx)(Tt.a,{}),onClick:function(){return o(!0)},children:"Registrar Cap\xedtulo"})}),Object(B.jsx)(I.a,{sx:{mt:3},children:Object(B.jsx)(Pe.a,{children:Object(B.jsx)(Re.a,{children:Object(B.jsx)(I.a,{sx:{maxWidth:500},children:Object(B.jsx)(qe.a,{fullWidth:!0,onChange:function(e){t(Wn(e.target.value.toLowerCase()))},InputProps:{startAdornment:Object(B.jsx)(ar.a,{position:"start",children:Object(B.jsx)(or.a,{fontSize:"small",color:"action",children:Object(B.jsx)(cr.a,{})})})},placeholder:"Buscar cap\xedtulo",variant:"outlined"})})})})}),Object(B.jsx)(Bt,{open:a,setOpen:o,title:"Registrar Nuevo Cap\xedtulo",children:Object(B.jsx)(aa,{title:"Registrar"})})]})},sa=function(){var e=Object(E.b)(),t=Object(E.c)((function(e){return e.ui})).alert,r=Ue().doRequest;return Object(l.useEffect)((function(){Object(s.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(Kn(r));case 1:case"end":return t.stop()}}),t)})))()}),[]),Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Se.a,{children:Object(B.jsx)("title",{children:"Capitulos"})}),Object(B.jsxs)(I.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:[Object(B.jsxs)(ye.a,{maxWidth:!1,children:[Object(B.jsx)(ia,{}),Object(B.jsx)(I.a,{sx:{pt:3},children:Object(B.jsx)(ca,{})})]}),Object(B.jsx)(pr,{alert:t})]})]})},la=r(375),ua=r.n(la),da=r(581);function pa(e){var t=e.label,r=e.error,n=void 0===r?null:r,a=e.setFieldValue,o=e.setFieldError,c=e.options,i=e.onBlur,s=e.helperText,u=e.defaultValues,d=void 0===u?[]:u,p=Object(l.useState)([]),j=Object(C.a)(p,2),b=j[0],O=j[1],h=Object(l.useState)([]),x=Object(C.a)(h,2),f=x[0],m=x[1];Object(l.useEffect)((function(){d.length>0&&O(d.map((function(e){return{id:e.id,text:e.nombre}}))),v()}),[d]);var v=function(){m(c.filter((function(e){if(void 0===b.find((function(t){return t.id===e.id})))return e})))};return Object(l.useEffect)((function(){v()}),[b]),Object(B.jsx)("div",{children:Object(B.jsx)(da.a,{multiple:!0,id:"tags-outlined",options:f,value:b,onChange:function(e,t){O(Object(A.a)(t)),a("categorias",Object(A.a)(t)),o("categorias","Error")},getOptionLabel:function(e){return e.text},filterSelectedOptions:!0,renderInput:function(e){return Object(B.jsx)(qe.a,Object(y.a)(Object(y.a)(Object(y.a)(Object(y.a)({},e),{},{variant:"outlined",label:t,placeholder:t},s&&{helperText:s}),n&&{error:n}),{},{onBlur:i}))}})})}var ja={id:0,nombre:"",descripcion:"",categorias:[]},ba=function(e){var t=e.title,r=e.edit,n=void 0===r?null:r,a=Object(E.b)(),o=Object(E.c)((function(e){return e.departamentos})),c=o.error,u=o.deparCategorias,d=Object(E.c)((function(e){return e.categorias})).categorias,p=Object(l.useState)([]),j=Object(C.a)(p,2),b=j[0],O=j[1],h=Ue().doRequest,x=function(){var e=Object(s.a)(i.a.mark((function e(t,r){var o,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o="",!n){e.next=8;break}return e.next=5,a(Kr(n.id,t,h));case 5:o="Departamento Actualizado Correctamente",e.next=11;break;case 8:return e.next=10,a(Vr(t,h));case 10:o="Departamento Registrado Correctamente";case 11:a(Ye({isOpen:!0,title:"\xc9xito",message:o})),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),500!==(null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c?void 0:c.status)&&(s=Ft(e.t0,r),a(Mr(s))),a(Ye({type:"error",isOpen:!0,title:"Error",message:"Error del Servidor, Intentelo de Nuevo"}));case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,r){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){d&&O(d.map((function(e){return"1"===e.estatus&&{id:e.id,text:e.nombre}})))}),[d]),Object(l.useEffect)((function(){return null!==n&&a(function(e,t){return function(){var r=Object(s.a)(i.a.mark((function r(n){var a,o;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(Fr(!0)),r.next=4,t("departamento/".concat(e,"/categorias"));case 4:a=r.sent,o=a.data,n(_r(o.categorias)),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),r.t0.response?n(Mr(r.t0.response.data.message)):n(Mr("Error del Servidor"));case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()}(n.id,h)),function(){a(Gr())}}),[n]),Object(l.useEffect)((function(){a(Mr("")),a(vn(h))}),[]),Object(B.jsx)(_e.a,{initialValues:n||ja,validationSchema:De.b().shape({nombre:De.d().min(4,"Longitud M\xednima 4 Letras").required("Nombre es Requerido"),descripcion:De.d().min(4,"Longitud M\xednima 4 Letras").required("Descripci\xf3n es Requerida")}),validateOnChange:!0,onSubmit:function(e,t){var r=t.setFieldError;return x(e,r)},children:function(e){var r=e.errors,a=e.handleBlur,o=e.handleChange,i=e.handleSubmit,s=e.isSubmitting,l=e.touched,d=e.values,p=e.setFieldValue,j=e.setFieldError;return Object(B.jsxs)("form",{onSubmit:i,children:[Object(B.jsx)(I.a,{sx:{mb:3},children:Object(B.jsx)(Q.a,{color:"textPrimary",variant:"h2",children:t})}),Object(B.jsxs)(we.a,{container:!0,spacing:1,children:[Object(B.jsxs)(we.a,{item:!0,xs:12,children:[Object(B.jsx)(We,{error:Boolean(l.nombre&&r.nombre),helperText:l.nombre&&r.nombre,label:"Nombre",disabled:Boolean(n),onBlur:a,onChange:o,name:"nombre",value:d.nombre}),Object(B.jsx)(We,{error:Boolean(l.descripcion&&r.descripcion),helperText:l.descripcion&&r.descripcion,label:"Descripci\xf3n",onBlur:a,onChange:o,name:"descripcion",value:d.descripcion})]}),Object(B.jsx)(we.a,{item:!0,xs:12,children:Object(B.jsx)(pa,{error:Boolean(l.categorias&&r.categorias),helperText:l.categorias&&r.categorias,label:"Categor\xedas",setFieldError:j,setFieldValue:p,options:b,onBlur:a,name:"categorias",defaultValues:n?u:[]})})]}),Object(B.jsxs)(I.a,{sx:{py:2},children:[Object(B.jsx)(Ve,{color:"primary",type:"submit",startIcon:Object(B.jsx)(Ne.a,{}),disabled:s,variant:"contained",children:"Registrar"}),Object(B.jsx)(Q.a,{color:"error",align:"center",style:{marginTop:"10px"},children:c})]})]})}})},Oa=["id"],ha=Object(j.a)((function(){return{child:{},root:{textAlign:"center"}}})),xa=function(e){var t=e.id,r=Object(w.a)(e,Oa),n=Object(E.b)(),a=Object(E.c)((function(e){return e.departamentos})),o=a.empleados,c=a.fetching,u=Object(l.useState)([]),d=Object(C.a)(u,2),p=d[0],j=d[1],b=ha(),O=Rt(),h=O.handleLimitChange,x=O.handlePageChange,f=O.limit,m=O.page,v=Ue().doRequest,A=function(){var e=Object(s.a)(i.a.mark((function e(t){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(Xr(t,v));case 3:e.next=10;break;case 5:e.prev=5,e.t0=e.catch(0),500!==(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r?void 0:r.status)&&(a=Ft(e.t0),n(vr(a))),n(Ye({type:"error",isOpen:!0,title:"Error",message:"Error del Servidor, Intentelo de Nuevo"})),n(Je({inProgress:!1,open:!1}));case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){o&&j(o)}),[o]),Object(l.useEffect)((function(){return n(function(e,t){return function(){var r=Object(s.a)(i.a.mark((function r(n){var a,o;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(Fr(!0)),r.next=4,t("departamento/".concat(e,"/empleados"));case 4:a=r.sent,o=a.data,n(Lr(o.empleados)),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),r.t0.response?n(Mr(r.t0.response.data.message)):n(Mr("Error del Servidor"));case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()}(t,v)),function(){n(Wr())}}),[]),c?Object(B.jsx)("div",{className:b.root,children:Object(B.jsx)(g.a,{color:"primary"})}):0===p.length?Object(B.jsx)("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"},children:Object(B.jsx)(Q.a,{textAlign:"center",variant:"button",color:"primary",children:"Sin Empleados Asignados"})}):Object(B.jsxs)(Pe.a,Object(y.a)(Object(y.a)({},r),{},{children:[Object(B.jsx)(xt.a,{children:Object(B.jsx)(I.a,{sx:{minWidth:1050,minHeight:100},children:Object(B.jsxs)(ft.a,{children:[Object(B.jsx)(mt.a,{children:Object(B.jsxs)(vt.a,{children:[Object(B.jsx)(gt.a,{children:"Clave empleado"}),Object(B.jsx)(gt.a,{children:"Nombre"}),Object(B.jsx)(gt.a,{children:"Acciones"})]})}),Object(B.jsx)(Et.a,{children:p.slice(m*f,(m+1)*f).map((function(e){return Object(B.jsxs)(vt.a,{children:[Object(B.jsxs)(gt.a,{children:[e.id," ",Object(B.jsx)("br",{}),e.noInterno]}),Object(B.jsxs)(gt.a,{children:[e.persona.nombre," ",e.persona.primerAp," ",e.persona.segundoAp]}),Object(B.jsx)(gt.a,{children:Object(B.jsx)(Ve,{color:"error",onClick:function(){return function(e,t){n(Je({open:!0,title:"Desea Deshabilitar la Asignaci\xf3n del empleado ".concat(t,"?"),subtitle:"Est\xe1 Acci\xf3n no puede ser Revertida",onConfirm:function(){A(e),n(Je({inProgress:!0}))}}))}(e.Departamento[0].Departamento_Empleado.id,e.persona.nombre)},endIcon:Object(B.jsx)(yt.a,{}),children:" Eliminar Asignaci\xf3n "})})]},e.id)}))})]})})}),Object(B.jsx)(At.a,{component:"div",count:p.length,onPageChange:x,onRowsPerPageChange:h,page:m,rowsPerPage:f,rowsPerPageOptions:[5,10,25]}),Object(B.jsx)(er,{})]}))},fa=Object(j.a)((function(){return{child:{},root:{textAlign:"center"}}})),ma=function(e){var t=Object.assign({},e),r=Object(E.b)(),n=Object(E.c)((function(e){return e.departamentos})),a=n.departamentos,o=n.filterValue,c=n.fetching,u=Object(l.useState)(!1),d=Object(C.a)(u,2),p=d[0],j=d[1],b=Object(l.useState)([]),O=Object(C.a)(b,2),h=O[0],x=O[1],f=Object(l.useState)({title:"",children:null}),m=Object(C.a)(f,2),v=m[0],A=m[1],T=fa(),S=Rt(),w=S.handleLimitChange,P=S.handlePageChange,R=S.limit,k=S.page,D=Ue().doRequest,_=function(e,t,n){r(Je({open:!0,title:"1"===t?"Desea Deshabilitar el Departamento ".concat(n,"?"):"Desea Habilitar el Departamento ".concat(n,"?"),subtitle:"Est\xe1 Acci\xf3n puede ser Revertida",onConfirm:function(){L(e,t),r(Je({inProgress:!0}))}}))},L=function(){var e=Object(s.a)(i.a.mark((function e(t,n){var a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"1"!==n){e.next=6;break}return e.next=4,r($r(t,D));case 4:e.next=8;break;case 6:return e.next=8,r(Jr(t,D));case 8:e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),500!==(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.status)&&(o=Ft(e.t0),r(Mr(o))),r(Ye({type:"error",isOpen:!0,title:"Error",message:"Error del Servidor, Intentelo de Nuevo"})),r(Je({inProgress:!1,open:!1}));case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){null!==v.children&&j(!0)}),[v]),Object(l.useEffect)((function(){a&&(j(!1),x(a))}),[a]),Object(l.useEffect)((function(){null!==o&&function(e){if(""!==e){var t=a.filter((function(t){return t.id===e||t.nombre.toLowerCase().includes(e)||t.descripcion.toLowerCase().includes(e)}));x(t)}else x(a)}(o)}),[o]),Object(B.jsxs)(Pe.a,Object(y.a)(Object(y.a)({},t),{},{children:[Object(B.jsx)(xt.a,{children:Object(B.jsxs)(I.a,{sx:{minWidth:1050},children:[Object(B.jsxs)(ft.a,{children:[Object(B.jsx)(mt.a,{children:Object(B.jsxs)(vt.a,{children:[Object(B.jsx)(gt.a,{children:"Clave departamento"}),Object(B.jsx)(gt.a,{children:"Nombre"}),Object(B.jsx)(gt.a,{children:"Descripci\xf3n"}),Object(B.jsx)(gt.a,{children:"Ver Empleados"}),Object(B.jsx)(gt.a,{children:"Fecha de Registro"}),Object(B.jsx)(gt.a,{children:"Estatus"}),Object(B.jsx)(gt.a,{children:"Acciones"})]})}),Object(B.jsx)(Et.a,{children:h.slice(k*R,(k+1)*R).map((function(e){return Object(B.jsxs)(vt.a,{children:[Object(B.jsx)(gt.a,{children:e.id}),Object(B.jsx)(gt.a,{children:e.nombre}),Object(B.jsx)(gt.a,{children:e.descripcion}),Object(B.jsx)(gt.a,{children:Object(B.jsx)(Ve,{color:"info",onClick:function(){return t=e.id,void A({title:"Empleados Asignados",children:Object(B.jsx)(xa,{id:t})});var t},endIcon:Object(B.jsx)(ua.a,{}),children:"Empleados"})}),Object(B.jsx)(gt.a,{children:Object(tr.dateFormater)(e.createdAt)}),Object(B.jsx)(gt.a,{children:"1"===e.estatus?Object(B.jsx)(Q.a,{variant:"button",color:"green",children:"Activa"}):Object(B.jsx)(Q.a,{variant:"button",color:"red",children:"No Activa"})}),Object(B.jsxs)(gt.a,{children:[Object(B.jsx)(Ve,{color:"primary",onClick:function(){return function(e){var t="Actualizar Departamento";A({title:t,children:Object(B.jsx)(ba,{setOpen:j,title:t,edit:e})})}(e)},endIcon:Object(B.jsx)(Tt.a,{}),children:" Editar "}),"1"===e.estatus?Object(B.jsx)(Ve,{color:"error",onClick:function(){return _(e.id,e.estatus,e.nombre)},endIcon:Object(B.jsx)(yt.a,{}),children:" Deshabilitar "}):Object(B.jsx)(Ve,{color:"info",onClick:function(){return _(e.id,e.estatus,e.nombre)},endIcon:Object(B.jsx)(Pt.a,{}),children:" Habilitar "})]})]},e.id)}))})]}),c&&Object(B.jsx)("div",{className:T.root,children:Object(B.jsx)(g.a,{color:"primary"})})]})}),Object(B.jsx)(At.a,{component:"div",count:h.length,onPageChange:P,onRowsPerPageChange:w,page:k,rowsPerPage:R,rowsPerPageOptions:[5,10,25]}),Object(B.jsx)(Bt,{title:v.title,open:p,setOpen:j,children:v.children}),Object(B.jsx)(er,{})]}))},va=function(){var e=Object(E.c)((function(e){return e.departamentos})).departamentos,t=Object(E.b)(),r=Object(l.useState)(!1),n=Object(C.a)(r,2),a=n[0],o=n[1];Object(l.useEffect)((function(){e&&o(!1)}),[e]);return Object(B.jsxs)(I.a,{children:[Object(B.jsx)(I.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(B.jsx)(le.a,{color:"primary",variant:"contained",startIcon:Object(B.jsx)(Tt.a,{}),onClick:function(){return o(!0)},children:"Registrar Departamento"})}),Object(B.jsx)(I.a,{sx:{mt:3},children:Object(B.jsx)(Pe.a,{children:Object(B.jsx)(Re.a,{children:Object(B.jsx)(I.a,{sx:{maxWidth:500},children:Object(B.jsx)(qe.a,{fullWidth:!0,onChange:function(e){t(Hr(e.target.value.toLowerCase()))},InputProps:{startAdornment:Object(B.jsx)(ar.a,{position:"start",children:Object(B.jsx)(or.a,{fontSize:"small",color:"action",children:Object(B.jsx)(cr.a,{})})})},placeholder:"Buscar departamento",variant:"outlined"})})})})}),Object(B.jsx)(Bt,{open:a,setOpen:o,title:"Registrar Nuevo Departamento",children:Object(B.jsx)(ba,{title:"Registrar"})})]})},ga=function(){var e=Object(E.b)(),t=Object(E.c)((function(e){return e.ui})).alert,r=Ue().doRequest;return Object(l.useEffect)((function(){Object(s.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(zr(r));case 1:case"end":return t.stop()}}),t)})))()}),[]),Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Se.a,{children:Object(B.jsx)("title",{children:"Departamentos"})}),Object(B.jsxs)(I.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:[Object(B.jsxs)(ye.a,{maxWidth:!1,children:[Object(B.jsx)(va,{}),Object(B.jsx)(I.a,{sx:{pt:3},children:Object(B.jsx)(ma,{})})]}),Object(B.jsx)(pr,{alert:t})]})]})},Ea=[{path:"/",element:Object(B.jsx)(Te,{}),children:[{path:"login",element:Object(B.jsx)(sn,{})},{path:"404",element:Object(B.jsx)(ln,{})},{path:"/",element:Object(B.jsx)(u.a,{to:"/login"})},{path:"*",element:Object(B.jsx)(u.a,{to:"/login"})}]}],Aa=[{path:"app",element:Object(B.jsx)(me,{}),children:[{path:"perfil",element:Object(B.jsx)(Ot,{})},{path:"empleados",element:Object(B.jsx)(nn,{})},{path:"categorias",element:Object(B.jsx)(Rn,{})},{path:"capitulos",element:Object(B.jsx)(sa,{})},{path:"departamentos",element:Object(B.jsx)(ga,{})},{path:"*",element:Object(B.jsx)(u.a,{to:"/404"})}]},{path:"*",element:Object(B.jsx)(u.a,{to:"/app"})}],Ca=[{path:"app",element:Object(B.jsx)(me,{}),children:[{path:"administradores",element:Object(B.jsx)(jr,{})}].concat(Object(A.a)(Aa[0].children))},{path:"*",element:Object(B.jsx)(u.a,{to:"/app"})}],Ta=r(128),Sa=r(376),ya={user:null,info:null,checking:!0,message:"",error:"",loginProgress:!1},wa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case H.AUTH_LOGIN:return Object(y.a)(Object(y.a)({},e),{},{user:n,checking:!1,error:""});case H.AUTH_FETH_USER:return Object(y.a)(Object(y.a)({},e),{},{info:n});case H.AUTH_CHECKING_FINISH:return Object(y.a)(Object(y.a)({},e),{},{checking:!1});case H.AUTH_LOGOUT:return{message:"",loginProgress:!1,checking:!1,user:null,error:null};case H.authLogoutTokenExpired:return{checking:!1,message:"Tu Sesi\xf3n Expir\xf3, Vuelve a Iniciarla"};case H.AUTH_SET_CHECKING:return Object(y.a)(Object(y.a)({},e),{},{loginProgress:n});case H.AUTH_SET_ERROR:return Object(y.a)(Object(y.a)({},e),{},{error:n});default:return e}},Pa={administradores:[],filterValue:null,fetching:!0,message:"",error:""},Ra=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pa,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case Ze.ADMINS_FETCH:return Object(y.a)(Object(y.a)({},e),{},{administradores:n,fetching:!1});case Ze.ADMINS_CREATE:return Object(y.a)(Object(y.a)({},e),{},{administradores:[].concat(Object(A.a)(e.administradores),[Object(y.a)({},n)])});case Ze.ADMINS_UPDATE:return Object(y.a)(Object(y.a)({},e),{},{administradores:e.administradores.map((function(e){return e.id===n.id?Object(y.a)({},n):e}))});case Ze.ADMINS_SET_ERROR:return Object(y.a)(Object(y.a)({},e),{},{error:n,fetching:!1});case Ze.ADMINS_SET_FILTER:return Object(y.a)(Object(y.a)({},e),{},{filterValue:n});case Ze.ADMINS_DISABLE:return Object(y.a)(Object(y.a)({},e),{},{administradores:e.administradores.map((function(e){return e.id===n?Object(y.a)(Object(y.a)({},e),{},{estatus:"0"}):e}))});case Ze.ADMINS_ENABLE:return Object(y.a)(Object(y.a)({},e),{},{administradores:e.administradores.map((function(e){return e.id===n?Object(y.a)(Object(y.a)({},e),{},{estatus:"1"}):e}))});default:return e}},Ia={alert:{isOpen:!1,type:"success",title:"",message:""},confirmDialog:{open:!1,title:"",subtitle:"",onConfirm:function(){return console.log("confirm")},inProgress:!1}},ka=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ia,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case $e.UI_SET_ALERT:return Object(y.a)(Object(y.a)({},e),{},{alert:Object(y.a)({},n)});case $e.UI_SET_CONFIRM_DIALOG:return Object(y.a)(Object(y.a)({},e),{},{confirmDialog:Object(y.a)(Object(y.a)({},e.confirmDialog),n)});default:return e}},Da={empleados:[],estados:[],filterValue:null,fetching:!0,message:"",error:""},_a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case Or.EMPLEADOS_FETCH:return Object(y.a)(Object(y.a)({},e),{},{empleados:n,fetching:!1});case Or.ESTADO_FETCH:return Object(y.a)(Object(y.a)({},e),{},{estados:n,fetching:!1});case Or.EMPLEADOS_CREATE:return Object(y.a)(Object(y.a)({},e),{},{empleados:[].concat(Object(A.a)(e.empleados),[Object(y.a)({},n)])});case Or.EMPLEADOS_UPDATE:return Object(y.a)(Object(y.a)({},e),{},{empleados:e.empleados.map((function(e){return e.id===n.id?Object(y.a)({},n):e}))});case Or.EMPLEADOS_SET_ERROR:return Object(y.a)(Object(y.a)({},e),{},{error:n,fetching:!1});case Or.EMPLEADOS_SET_FILTER:return Object(y.a)(Object(y.a)({},e),{},{filterValue:n});case Or.EMPLEADOS_DISABLE:return Object(y.a)(Object(y.a)({},e),{},{empleados:e.empleados.map((function(e){return e.id===n?Object(y.a)(Object(y.a)({},e),{},{estatus:"0"}):e}))});case Or.EMPLEADOS_ENABLE:return Object(y.a)(Object(y.a)({},e),{},{empleados:e.empleados.map((function(e){return e.id===n?Object(y.a)(Object(y.a)({},e),{},{estatus:"1"}):e}))});default:return e}},La={departamentos:[],empleados:[],filterValue:null,fetching:!0,message:"",error:"",deparCategorias:[]},Na=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:La,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case kr.DEPARTAMENTOS_FETCH:return Object(y.a)(Object(y.a)({},e),{},{departamentos:n,fetching:!1});case kr.DEPARTAMENTOS_EMPLEADOS_ASIGNADOS:return Object(y.a)(Object(y.a)({},e),{},{empleados:n,fetching:!1});case kr.DEPARTAMENTOS_FETCH_CATEGORIA:return Object(y.a)(Object(y.a)({},e),{},{deparCategorias:n,fetching:!1});case kr.DEPARTAMENTOS_CREATE:return Object(y.a)(Object(y.a)({},e),{},{departamentos:[].concat(Object(A.a)(e.departamentos),[Object(y.a)({},n)])});case kr.DEPARTAMENTOS_UPDATE:return Object(y.a)(Object(y.a)({},e),{},{departamentos:e.departamentos.map((function(e){return e.id===n.id?Object(y.a)({},n):e}))});case kr.DEPARTAMENTOS_SET_ERROR:return Object(y.a)(Object(y.a)({},e),{},{error:n,fetching:""===n&&e.fetching});case kr.DEPARTAMENTOS_SET_FILTER:return Object(y.a)(Object(y.a)({},e),{},{filterValue:n});case kr.DEPARTAMENTOS_DISABLE:return Object(y.a)(Object(y.a)({},e),{},{departamentos:e.departamentos.map((function(e){return e.id===n?Object(y.a)(Object(y.a)({},e),{},{estatus:"0"}):e}))});case kr.DEPARTAMENTOS_DISABLE_ASIG_EMPLEADO:return Object(y.a)(Object(y.a)({},e),{},{empleados:e.empleados.map((function(e){return e.Departamento[0].Departamento_Empleado.id===n?{}:e}))});case kr.DEPARTAMENTOS_ENABLE:return Object(y.a)(Object(y.a)({},e),{},{departamentos:e.departamentos.map((function(e){return e.id===n?Object(y.a)(Object(y.a)({},e),{},{estatus:"1"}):e}))});case kr.DEPARTAMENTOS_CLEAN_CATEGORIAS:return Object(y.a)(Object(y.a)({},e),{},{deparCategorias:[]});case kr.DEPARTAMENTOS_CLEAN_EMPLEADOS_ASIGNADOS:return Object(y.a)(Object(y.a)({},e),{},{empleados:[]});default:return e}},Ba={categorias:[],filterValue:null,fetching:!0,message:"",error:""},Ma=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case dn.CATEGORIAS_FETCH:return Object(y.a)(Object(y.a)({},e),{},{categorias:n,fetching:!1});case dn.CATEGORIAS_CREATE:return Object(y.a)(Object(y.a)({},e),{},{categorias:[].concat(Object(A.a)(e.categorias),[Object(y.a)({},n)])});case dn.CATEGORIAS_UPDATE:return Object(y.a)(Object(y.a)({},e),{},{categorias:e.categorias.map((function(e){return e.id===n.id?Object(y.a)({},n):e}))});case dn.CATEGORIAS_SET_ERROR:return Object(y.a)(Object(y.a)({},e),{},{error:n,fetching:!1});case dn.CATEGORIAS_SET_FILTER:return Object(y.a)(Object(y.a)({},e),{},{filterValue:n});case dn.CATEGORIAS_DISABLE:return Object(y.a)(Object(y.a)({},e),{},{categorias:e.categorias.map((function(e){return e.id===n?Object(y.a)(Object(y.a)({},e),{},{estatus:"0"}):e}))});case dn.CATEGORIAS_ENABLE:return Object(y.a)(Object(y.a)({},e),{},{categorias:e.categorias.map((function(e){return e.id===n?Object(y.a)(Object(y.a)({},e),{},{estatus:"1"}):e}))});default:return e}},Fa={capitulos:[],filterValue:null,fetching:!0,message:"",error:""},Ha=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case Mn.CAPITULOS_FETCH:return Object(y.a)(Object(y.a)({},e),{},{capitulos:n,fetching:!1});case Mn.CAPITULOS_CREATE:return Object(y.a)(Object(y.a)({},e),{},{capitulos:[].concat(Object(A.a)(e.capitulos),[Object(y.a)({},n)])});case Mn.CAPITULOS_UPDATE:return Object(y.a)(Object(y.a)({},e),{},{capitulos:e.capitulos.map((function(e){return e.id===n.id?Object(y.a)({},n):e}))});case Mn.CAPITULOS_SET_ERROR:return Object(y.a)(Object(y.a)({},e),{},{error:n,fetching:!1});case Mn.CAPITULOS_SET_FILTER:return Object(y.a)(Object(y.a)({},e),{},{filterValue:n});case Mn.CAPITULOS_DISABLE:return Object(y.a)(Object(y.a)({},e),{},{capitulos:e.capitulos.map((function(e){return e.id===n?Object(y.a)(Object(y.a)({},e),{},{estatus:"0"}):e}))});case Mn.CAPITULOS_ENABLE:return Object(y.a)(Object(y.a)({},e),{},{capitulos:e.capitulos.map((function(e){return e.id===n?Object(y.a)(Object(y.a)({},e),{},{estatus:"1"}):e}))});default:return e}},Ua=Object(Ta.b)({auth:wa,administradores:Ra,empleados:_a,ui:ka,departamentos:Na,categorias:Ma,capitulos:Ha}),qa="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ta.c,Ga=Object(Ta.d)(Ua,qa(Object(Ta.a)(Sa.a.withExtraArgument()))),Wa=Object(j.a)((function(){return{child:{position:"absolute",top:"50%",left:"50%"}}})),za=function(){var e=Object(u.j)(Ca),t=Object(u.j)(Aa),r=Object(u.j)(Ea),n=Wa(),a=Ue().doRequest,o=Object(E.c)((function(e){return e.auth})),c=o.checking,p=o.user,j=Object(E.b)(),b=function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(K(a));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){b()}),[]),c?Object(B.jsx)(g.a,{color:"secondary",className:n.child}):Object(B.jsxs)(d.a,{theme:v,children:[Object(B.jsx)(O,{}),p?0===p.nivelAcceso?e:t:r]})};var Va=function(){return Object(B.jsx)(E.a,{store:Ga,children:Object(B.jsx)(za,{})})};a.a.render(Object(B.jsx)(o.a,{children:Object(B.jsx)(Va,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},59:function(e,t,r){"use strict";r.r(t),r.d(t,"moneyFormater",(function(){return o})),r.d(t,"dateFormater",(function(){return c})),r.d(t,"formatError",(function(){return i}));var n=r(362),a={weekday:"long",year:"numeric",month:"long",day:"numeric",hour12:!0,hour:"numeric",minute:"numeric"},o=function(e){return new Intl.NumberFormat("es-mx",{style:"currency",currency:"MXN"}).format(e)},c=function(e){return new Date(e).toLocaleDateString("es-mx",a)},i=function(e,t){if(e.errors){var r,a=Object(n.a)(e.errors);try{for(a.s();!(r=a.n()).done;){var o=r.value;t(o.param,o.msg)}}catch(c){a.e(c)}finally{a.f()}return"Error!"}return e.message}}},[[522,1,2]]]);
//# sourceMappingURL=main.9981cde4.chunk.js.map